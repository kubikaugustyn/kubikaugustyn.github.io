<div id="dashboard">
    <h1 class="mt-4">Vítejte na mém webu  <%= user.osloveni %>.</h1>
    <div class="lead mb-3" id="UserData">UserData: <%= user.userData %></div>
    <div class="lead mb-3">Uživatel: <%= user.name %></div>
    <div class="lead mb-3">E-mail: <%= user.email %></div>
    <div id="div1"></div>
    <button onclick="VratText(game1, 'dashboard')" class="btn btn-secondary">Hra 1</button>
    <br>
    <br>
    <a href="/users/logout" class="btn btn-secondary">Odhlásit</a>
</div>
<script>function VratText(varName, divId) {document.getElementById(divId).innerHTML = varName}</script>
<script id="game">
    function playGame() {
        document.getElementById('game1').innerHTML += '<br>Level:' + game1DataLevel[1] + '<br>Stage:' + game1DataStage[1]
    }
</script>
<script id="loadGame">
function deleteLoadGameScript() {document.getElementById('loadGame').innerHTML = ''}
function VratText1() {
    document.getElementById('game1').innerHTML = game1Text
}
var game1Hrani = 'Hrajete hru1...'
var game1Text = 'Hra načtena...<br><button onclick="VratText(game1Hrani, \'game1\');deleteLoadGameScript();playGame()" class="btn btn-secondary">Hrát</button>'
var game1Nacitani = '<button class="btn btn-secondary" style="cursor: not-allowed;">Načítání hry... (přibližně 10s)</button>'
var game1 =
    '<div id="game1">' +
        'Hru se nepodařilo načíst.<br><br><button onclick="VratText(game1Nacitani, \'game1\');setTimeout(VratText1, 10000)" class="btn btn-secondary">Zkusit znovu načíst</button>' +
    '</div>'
</script>

<script id="userData">
    function deleteUserDataScript() {document.getElementById('userData').innerHTML = ''}
    var UserData = '<%= user.userData %>'
    //console.log(UserData)
    /*if (true) {
        UserData = unescape(UserData)
    }
    else {*/
        for (var i = 0; i < 50000; i++) {
            UserData = UserData.replace('&lt;', '<')
            UserData = UserData.replace('&gt;', '>')
            UserData = UserData.replace('&#34;', '"')
            //UserData = UserData.replace('&#39;', "'")
        }
    //}
    //console.log(UserData)
    document.getElementById('UserData').innerHTML = 'UserData: ' + UserData
    //console.log(document.getElementById('UserData').innerHTML)

    var UserDataSplitVykricnik = UserData.split('!')
    //console.log(UserDataSplitVykricnik[0])
    var game1aAbData = UserDataSplitVykricnik[0].split(',')
    var game1aData0
    var game1aData1
    for (i = 0; i < 50000; i++) {
        game1aData0 = game1aAbData[0].replace('&#39;', "'")
        game1aData1 = game1aAbData[1].replace('&#39;', "'")
    }
    var game1aData = game1aData0
    var game1bData = game1aData1
    //console.log(game1aData)
    //console.log(game1bData)
    document.getElementById('UserData').innerHTML = 'UserData: ' + UserDataSplitVykricnik[1]
    //console.log(document.getElementById('UserData').innerHTML)
    var game1Data = {
        'a' : game1aData,
        'b' : game1bData
    }
    for (i=0; i<50000; i++) {
        game1Data['a'] = game1Data['a'].replace('&#39;', "'")
        game1Data['b'] = game1Data['b'].replace('&#39;', "'")
    }
    //console.log(game1Data)
    //console.log(game1Data['a'])
    //console.log(game1Data['b'])
    var game1DataLevelToSplit2x = game1Data['a'].split('=')
    var game1DataStageToSplit2x = game1Data['b'].split('=')
    var game1DataLevelToSplit = game1DataLevelToSplit2x[1]
    var game1DataStageToSplit = game1DataStageToSplit2x[1]
    for (i=0; i<2; i++) {
        game1DataLevelToSplit = game1DataLevelToSplit.replace("'", "")
        game1DataStageToSplit = game1DataStageToSplit.replace("'", "")
    }
    var game1DataLevel = game1DataLevelToSplit.split(':')
    var game1DataStage = game1DataStageToSplit.split(':')
    //console.log(game1DataLevel[1])
    //console.log(game1DataStage[1])

    deleteUserDataScript()
</script>



