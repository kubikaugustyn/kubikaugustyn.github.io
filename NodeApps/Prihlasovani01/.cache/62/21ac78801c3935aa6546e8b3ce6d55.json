{"id":"eMaH","dependencies":[{"name":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\package.json","includedInParent":true,"mtime":1579542626254},{"name":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\passport-local\\package.json","includedInParent":true,"mtime":1579334330919},{"name":"passport-strategy","loc":{"line":4,"column":23},"parent":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\passport-local\\lib\\strategy.js","resolved":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\passport-strategy\\lib\\index.js"},{"name":"util","loc":{"line":5,"column":19},"parent":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\passport-local\\lib\\strategy.js","resolved":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\util\\util.js"},{"name":"./utils","loc":{"line":6,"column":21},"parent":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\passport-local\\lib\\strategy.js","resolved":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\passport-local\\lib\\utils.js"}],"generated":{"js":"var e=require(\"passport-strategy\"),r=require(\"util\"),s=require(\"./utils\").lookup;function i(r,s){if(\"function\"==typeof r&&(s=r,r={}),!s)throw new TypeError(\"LocalStrategy requires a verify callback\");this._usernameField=r.usernameField||\"username\",this._passwordField=r.passwordField||\"password\",e.Strategy.call(this),this.name=\"local\",this._verify=s,this._passReqToCallback=r.passReqToCallback}r.inherits(i,e.Strategy),i.prototype.authenticate=function(e,r){r=r||{};var i=s(e.body,this._usernameField)||s(e.query,this._usernameField),t=s(e.body,this._passwordField)||s(e.query,this._passwordField);if(!i||!t)return this.fail({message:r.badRequestMessage||\"Missing credentials\"},400);var a=this;function o(e,r,s){return e?a.error(e):r?void a.success(r,s):a.fail(s)}try{a._passReqToCallback?this._verify(e,i,t,o):this._verify(i,t,o)}catch(l){return a.error(l)}},module.exports=i;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":4,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/passport-local/lib/strategy.js","name":"passport","original":{"line":4,"column":4},"generated":{"line":1,"column":4}},{"source":"node_modules/passport-local/lib/strategy.js","name":"require","original":{"line":4,"column":15},"generated":{"line":1,"column":6}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":4,"column":23},"generated":{"line":1,"column":14}},{"source":"node_modules/passport-local/lib/strategy.js","name":"util","original":{"line":5,"column":4},"generated":{"line":1,"column":35}},{"source":"node_modules/passport-local/lib/strategy.js","name":"require","original":{"line":5,"column":11},"generated":{"line":1,"column":37}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":5,"column":19},"generated":{"line":1,"column":45}},{"source":"node_modules/passport-local/lib/strategy.js","name":"lookup","original":{"line":6,"column":4},"generated":{"line":1,"column":53}},{"source":"node_modules/passport-local/lib/strategy.js","name":"require","original":{"line":6,"column":13},"generated":{"line":1,"column":55}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":6,"column":21},"generated":{"line":1,"column":63}},{"source":"node_modules/passport-local/lib/strategy.js","name":"lookup","original":{"line":6,"column":32},"generated":{"line":1,"column":74}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":42,"column":0},"generated":{"line":1,"column":81}},{"source":"node_modules/passport-local/lib/strategy.js","name":"Strategy","original":{"line":42,"column":9},"generated":{"line":1,"column":90}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":42,"column":18},"generated":{"line":1,"column":92}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verify","original":{"line":42,"column":27},"generated":{"line":1,"column":94}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":47,"column":6},"generated":{"line":1,"column":97}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":43,"column":24},"generated":{"line":1,"column":100}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":43,"column":13},"generated":{"line":1,"column":119}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verify","original":{"line":44,"column":4},"generated":{"line":1,"column":123}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":44,"column":13},"generated":{"line":1,"column":125}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":45,"column":4},"generated":{"line":1,"column":127}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":45,"column":14},"generated":{"line":1,"column":129}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verify","original":{"line":47,"column":7},"generated":{"line":1,"column":134}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":47,"column":23},"generated":{"line":1,"column":136}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":47,"column":23},"generated":{"line":1,"column":142}},{"source":"node_modules/passport-local/lib/strategy.js","name":"TypeError","original":{"line":47,"column":27},"generated":{"line":1,"column":146}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":47,"column":37},"generated":{"line":1,"column":156}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_usernameField","original":{"line":49,"column":7},"generated":{"line":1,"column":200}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_usernameField","original":{"line":49,"column":7},"generated":{"line":1,"column":205}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":49,"column":24},"generated":{"line":1,"column":220}},{"source":"node_modules/passport-local/lib/strategy.js","name":"usernameField","original":{"line":49,"column":32},"generated":{"line":1,"column":222}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":49,"column":49},"generated":{"line":1,"column":237}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passwordField","original":{"line":50,"column":7},"generated":{"line":1,"column":248}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passwordField","original":{"line":50,"column":7},"generated":{"line":1,"column":253}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":50,"column":24},"generated":{"line":1,"column":268}},{"source":"node_modules/passport-local/lib/strategy.js","name":"passwordField","original":{"line":50,"column":32},"generated":{"line":1,"column":270}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":50,"column":49},"generated":{"line":1,"column":285}},{"source":"node_modules/passport-local/lib/strategy.js","name":"passport","original":{"line":52,"column":2},"generated":{"line":1,"column":296}},{"source":"node_modules/passport-local/lib/strategy.js","name":"Strategy","original":{"line":52,"column":11},"generated":{"line":1,"column":298}},{"source":"node_modules/passport-local/lib/strategy.js","name":"call","original":{"line":52,"column":20},"generated":{"line":1,"column":307}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":52,"column":25},"generated":{"line":1,"column":312}},{"source":"node_modules/passport-local/lib/strategy.js","name":"name","original":{"line":53,"column":7},"generated":{"line":1,"column":318}},{"source":"node_modules/passport-local/lib/strategy.js","name":"name","original":{"line":53,"column":7},"generated":{"line":1,"column":323}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":53,"column":14},"generated":{"line":1,"column":328}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_verify","original":{"line":54,"column":7},"generated":{"line":1,"column":336}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_verify","original":{"line":54,"column":7},"generated":{"line":1,"column":341}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verify","original":{"line":54,"column":17},"generated":{"line":1,"column":349}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passReqToCallback","original":{"line":55,"column":7},"generated":{"line":1,"column":351}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passReqToCallback","original":{"line":55,"column":7},"generated":{"line":1,"column":356}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":55,"column":28},"generated":{"line":1,"column":375}},{"source":"node_modules/passport-local/lib/strategy.js","name":"passReqToCallback","original":{"line":55,"column":36},"generated":{"line":1,"column":377}},{"source":"node_modules/passport-local/lib/strategy.js","name":"util","original":{"line":61,"column":0},"generated":{"line":1,"column":395}},{"source":"node_modules/passport-local/lib/strategy.js","name":"inherits","original":{"line":61,"column":5},"generated":{"line":1,"column":397}},{"source":"node_modules/passport-local/lib/strategy.js","name":"Strategy","original":{"line":61,"column":14},"generated":{"line":1,"column":406}},{"source":"node_modules/passport-local/lib/strategy.js","name":"passport","original":{"line":61,"column":24},"generated":{"line":1,"column":408}},{"source":"node_modules/passport-local/lib/strategy.js","name":"Strategy","original":{"line":61,"column":33},"generated":{"line":1,"column":410}},{"source":"node_modules/passport-local/lib/strategy.js","name":"Strategy","original":{"line":69,"column":0},"generated":{"line":1,"column":420}},{"source":"node_modules/passport-local/lib/strategy.js","name":"prototype","original":{"line":69,"column":9},"generated":{"line":1,"column":422}},{"source":"node_modules/passport-local/lib/strategy.js","name":"authenticate","original":{"line":69,"column":19},"generated":{"line":1,"column":432}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":69,"column":34},"generated":{"line":1,"column":445}},{"source":"node_modules/passport-local/lib/strategy.js","name":"req","original":{"line":69,"column":43},"generated":{"line":1,"column":454}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":69,"column":48},"generated":{"line":1,"column":456}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":70,"column":2},"generated":{"line":1,"column":459}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":70,"column":12},"generated":{"line":1,"column":461}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":70,"column":23},"generated":{"line":1,"column":464}},{"source":"node_modules/passport-local/lib/strategy.js","name":"username","original":{"line":71,"column":6},"generated":{"line":1,"column":467}},{"source":"node_modules/passport-local/lib/strategy.js","name":"username","original":{"line":71,"column":6},"generated":{"line":1,"column":471}},{"source":"node_modules/passport-local/lib/strategy.js","name":"lookup","original":{"line":71,"column":17},"generated":{"line":1,"column":473}},{"source":"node_modules/passport-local/lib/strategy.js","name":"req","original":{"line":71,"column":24},"generated":{"line":1,"column":475}},{"source":"node_modules/passport-local/lib/strategy.js","name":"body","original":{"line":71,"column":28},"generated":{"line":1,"column":477}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":71,"column":34},"generated":{"line":1,"column":482}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_usernameField","original":{"line":71,"column":39},"generated":{"line":1,"column":487}},{"source":"node_modules/passport-local/lib/strategy.js","name":"lookup","original":{"line":71,"column":58},"generated":{"line":1,"column":504}},{"source":"node_modules/passport-local/lib/strategy.js","name":"req","original":{"line":71,"column":65},"generated":{"line":1,"column":506}},{"source":"node_modules/passport-local/lib/strategy.js","name":"query","original":{"line":71,"column":69},"generated":{"line":1,"column":508}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":71,"column":76},"generated":{"line":1,"column":514}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_usernameField","original":{"line":71,"column":81},"generated":{"line":1,"column":519}},{"source":"node_modules/passport-local/lib/strategy.js","name":"password","original":{"line":72,"column":6},"generated":{"line":1,"column":535}},{"source":"node_modules/passport-local/lib/strategy.js","name":"lookup","original":{"line":72,"column":17},"generated":{"line":1,"column":537}},{"source":"node_modules/passport-local/lib/strategy.js","name":"req","original":{"line":72,"column":24},"generated":{"line":1,"column":539}},{"source":"node_modules/passport-local/lib/strategy.js","name":"body","original":{"line":72,"column":28},"generated":{"line":1,"column":541}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":72,"column":34},"generated":{"line":1,"column":546}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passwordField","original":{"line":72,"column":39},"generated":{"line":1,"column":551}},{"source":"node_modules/passport-local/lib/strategy.js","name":"lookup","original":{"line":72,"column":58},"generated":{"line":1,"column":568}},{"source":"node_modules/passport-local/lib/strategy.js","name":"req","original":{"line":72,"column":65},"generated":{"line":1,"column":570}},{"source":"node_modules/passport-local/lib/strategy.js","name":"query","original":{"line":72,"column":69},"generated":{"line":1,"column":572}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":72,"column":76},"generated":{"line":1,"column":578}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passwordField","original":{"line":72,"column":81},"generated":{"line":1,"column":583}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":74,"column":6},"generated":{"line":1,"column":599}},{"source":"node_modules/passport-local/lib/strategy.js","name":"username","original":{"line":74,"column":7},"generated":{"line":1,"column":603}},{"source":"node_modules/passport-local/lib/strategy.js","name":"password","original":{"line":74,"column":20},"generated":{"line":1,"column":607}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":75,"column":11},"generated":{"line":1,"column":609}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":75,"column":11},"generated":{"line":1,"column":616}},{"source":"node_modules/passport-local/lib/strategy.js","name":"fail","original":{"line":75,"column":16},"generated":{"line":1,"column":621}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":75,"column":21},"generated":{"line":1,"column":626}},{"source":"node_modules/passport-local/lib/strategy.js","name":"message","original":{"line":75,"column":23},"generated":{"line":1,"column":627}},{"source":"node_modules/passport-local/lib/strategy.js","name":"options","original":{"line":75,"column":32},"generated":{"line":1,"column":635}},{"source":"node_modules/passport-local/lib/strategy.js","name":"badRequestMessage","original":{"line":75,"column":40},"generated":{"line":1,"column":637}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":75,"column":61},"generated":{"line":1,"column":656}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":75,"column":86},"generated":{"line":1,"column":679}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":78,"column":6},"generated":{"line":1,"column":684}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":78,"column":6},"generated":{"line":1,"column":688}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":78,"column":13},"generated":{"line":1,"column":690}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verified","original":{"line":80,"column":11},"generated":{"line":1,"column":695}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verified","original":{"line":80,"column":11},"generated":{"line":1,"column":704}},{"source":"node_modules/passport-local/lib/strategy.js","name":"err","original":{"line":80,"column":20},"generated":{"line":1,"column":706}},{"source":"node_modules/passport-local/lib/strategy.js","name":"user","original":{"line":80,"column":25},"generated":{"line":1,"column":708}},{"source":"node_modules/passport-local/lib/strategy.js","name":"info","original":{"line":80,"column":31},"generated":{"line":1,"column":710}},{"source":"node_modules/passport-local/lib/strategy.js","name":"err","original":{"line":81,"column":8},"generated":{"line":1,"column":713}},{"source":"node_modules/passport-local/lib/strategy.js","name":"err","original":{"line":81,"column":8},"generated":{"line":1,"column":720}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":81,"column":22},"generated":{"line":1,"column":722}},{"source":"node_modules/passport-local/lib/strategy.js","name":"error","original":{"line":81,"column":27},"generated":{"line":1,"column":724}},{"source":"node_modules/passport-local/lib/strategy.js","name":"err","original":{"line":81,"column":33},"generated":{"line":1,"column":730}},{"source":"node_modules/passport-local/lib/strategy.js","name":"user","original":{"line":82,"column":9},"generated":{"line":1,"column":733}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":83,"column":4},"generated":{"line":1,"column":740}},{"source":"node_modules/passport-local/lib/strategy.js","name":"success","original":{"line":83,"column":9},"generated":{"line":1,"column":742}},{"source":"node_modules/passport-local/lib/strategy.js","name":"user","original":{"line":83,"column":17},"generated":{"line":1,"column":750}},{"source":"node_modules/passport-local/lib/strategy.js","name":"info","original":{"line":83,"column":23},"generated":{"line":1,"column":752}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":82,"column":24},"generated":{"line":1,"column":755}},{"source":"node_modules/passport-local/lib/strategy.js","name":"fail","original":{"line":82,"column":29},"generated":{"line":1,"column":757}},{"source":"node_modules/passport-local/lib/strategy.js","name":"info","original":{"line":82,"column":34},"generated":{"line":1,"column":762}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":86,"column":6},"generated":{"line":1,"column":765}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":87,"column":8},"generated":{"line":1,"column":769}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_passReqToCallback","original":{"line":87,"column":13},"generated":{"line":1,"column":771}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_verify","original":{"line":88,"column":11},"generated":{"line":1,"column":790}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_verify","original":{"line":88,"column":11},"generated":{"line":1,"column":795}},{"source":"node_modules/passport-local/lib/strategy.js","name":"req","original":{"line":88,"column":19},"generated":{"line":1,"column":803}},{"source":"node_modules/passport-local/lib/strategy.js","name":"username","original":{"line":88,"column":24},"generated":{"line":1,"column":805}},{"source":"node_modules/passport-local/lib/strategy.js","name":"password","original":{"line":88,"column":34},"generated":{"line":1,"column":807}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verified","original":{"line":88,"column":44},"generated":{"line":1,"column":809}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_verify","original":{"line":90,"column":11},"generated":{"line":1,"column":812}},{"source":"node_modules/passport-local/lib/strategy.js","name":"_verify","original":{"line":90,"column":11},"generated":{"line":1,"column":817}},{"source":"node_modules/passport-local/lib/strategy.js","name":"username","original":{"line":90,"column":19},"generated":{"line":1,"column":825}},{"source":"node_modules/passport-local/lib/strategy.js","name":"password","original":{"line":90,"column":29},"generated":{"line":1,"column":827}},{"source":"node_modules/passport-local/lib/strategy.js","name":"verified","original":{"line":90,"column":39},"generated":{"line":1,"column":829}},{"source":"node_modules/passport-local/lib/strategy.js","original":{"line":92,"column":4},"generated":{"line":1,"column":832}},{"source":"node_modules/passport-local/lib/strategy.js","name":"ex","original":{"line":92,"column":11},"generated":{"line":1,"column":838}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":93,"column":11},"generated":{"line":1,"column":841}},{"source":"node_modules/passport-local/lib/strategy.js","name":"self","original":{"line":93,"column":11},"generated":{"line":1,"column":848}},{"source":"node_modules/passport-local/lib/strategy.js","name":"error","original":{"line":93,"column":16},"generated":{"line":1,"column":850}},{"source":"node_modules/passport-local/lib/strategy.js","name":"ex","original":{"line":93,"column":22},"generated":{"line":1,"column":856}},{"source":"node_modules/passport-local/lib/strategy.js","name":"module","original":{"line":101,"column":0},"generated":{"line":1,"column":861}},{"source":"node_modules/passport-local/lib/strategy.js","name":"exports","original":{"line":101,"column":7},"generated":{"line":1,"column":868}},{"source":"node_modules/passport-local/lib/strategy.js","name":"Strategy","original":{"line":101,"column":17},"generated":{"line":1,"column":876}}],"sources":{"node_modules/passport-local/lib/strategy.js":"/**\n * Module dependencies.\n */\nvar passport = require('passport-strategy')\n  , util = require('util')\n  , lookup = require('./utils').lookup;\n\n\n/**\n * `Strategy` constructor.\n *\n * The local authentication strategy authenticates requests based on the\n * credentials submitted through an HTML-based login form.\n *\n * Applications must supply a `verify` callback which accepts `username` and\n * `password` credentials, and then calls the `done` callback supplying a\n * `user`, which should be set to `false` if the credentials are not valid.\n * If an exception occured, `err` should be set.\n *\n * Optionally, `options` can be used to change the fields in which the\n * credentials are found.\n *\n * Options:\n *   - `usernameField`  field name where the username is found, defaults to _username_\n *   - `passwordField`  field name where the password is found, defaults to _password_\n *   - `passReqToCallback`  when `true`, `req` is the first argument to the verify callback (default: `false`)\n *\n * Examples:\n *\n *     passport.use(new LocalStrategy(\n *       function(username, password, done) {\n *         User.findOne({ username: username, password: password }, function (err, user) {\n *           done(err, user);\n *         });\n *       }\n *     ));\n *\n * @param {Object} options\n * @param {Function} verify\n * @api public\n */\nfunction Strategy(options, verify) {\n  if (typeof options == 'function') {\n    verify = options;\n    options = {};\n  }\n  if (!verify) { throw new TypeError('LocalStrategy requires a verify callback'); }\n  \n  this._usernameField = options.usernameField || 'username';\n  this._passwordField = options.passwordField || 'password';\n  \n  passport.Strategy.call(this);\n  this.name = 'local';\n  this._verify = verify;\n  this._passReqToCallback = options.passReqToCallback;\n}\n\n/**\n * Inherit from `passport.Strategy`.\n */\nutil.inherits(Strategy, passport.Strategy);\n\n/**\n * Authenticate request based on the contents of a form submission.\n *\n * @param {Object} req\n * @api protected\n */\nStrategy.prototype.authenticate = function(req, options) {\n  options = options || {};\n  var username = lookup(req.body, this._usernameField) || lookup(req.query, this._usernameField);\n  var password = lookup(req.body, this._passwordField) || lookup(req.query, this._passwordField);\n  \n  if (!username || !password) {\n    return this.fail({ message: options.badRequestMessage || 'Missing credentials' }, 400);\n  }\n  \n  var self = this;\n  \n  function verified(err, user, info) {\n    if (err) { return self.error(err); }\n    if (!user) { return self.fail(info); }\n    self.success(user, info);\n  }\n  \n  try {\n    if (self._passReqToCallback) {\n      this._verify(req, username, password, verified);\n    } else {\n      this._verify(username, password, verified);\n    }\n  } catch (ex) {\n    return self.error(ex);\n  }\n};\n\n\n/**\n * Expose `Strategy`.\n */\nmodule.exports = Strategy;\n"},"lineCount":null}},"error":null,"hash":"f5521a1c458292f4fd48d415aad43490","cacheData":{"env":{}}}