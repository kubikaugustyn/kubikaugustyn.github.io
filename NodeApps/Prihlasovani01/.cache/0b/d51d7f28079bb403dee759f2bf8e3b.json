{"id":"aDua","dependencies":[{"name":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\package.json","includedInParent":true,"mtime":1579542458413},{"name":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\mongoose\\package.json","includedInParent":true,"mtime":1579334330931},{"name":"../../schema/symbols","loc":{"line":3,"column":24},"parent":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\mongoose\\lib\\helpers\\model\\applyHooks.js","resolved":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\mongoose\\lib\\schema\\symbols.js"},{"name":"../../utils","loc":{"line":4,"column":22},"parent":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\mongoose\\lib\\helpers\\model\\applyHooks.js","resolved":"C:\\Users\\Radek Augustyn\\Desktop\\Kubik\\MujWeb\\NodeApps\\Prihlasovani01\\node_modules\\mongoose\\lib\\utils.js"}],"generated":{"js":"\"use strict\";const e=require(\"../../schema/symbols\"),t=require(\"../../utils\");function a(n,r,o){const s={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},i=(o=o||{}).decorateDoc?n:n.prototype;n.$appliedHooks=!0;for(const e of Object.keys(r.paths)){const t=r.paths[e];let n=null;if(t.$isSingleNested)n=t.caster;else{if(!t.$isMongooseDocumentArray)continue;n=t.Constructor}if(!n.$appliedHooks&&(a(n,t.schema,o),null!=n.discriminators)){const e=Object.keys(n.discriminators);for(let t=0;t<e.length;++t)a(n.discriminators[e[t]],n.discriminators[e[t]].schema,o)}}const l=r.s.hooks.filter(e=>\"updateOne\"===e.name||\"deleteOne\"===e.name?!!e.document:\"remove\"!==e.name||(null==e.document||!!e.document)).filter(t=>!r.methods[t.name]||!t.fn[e.builtInMiddleware]);n._middleware=l,i.$__save=l.createWrapper(\"save\",i.$__save,null,s),i.$__originalValidate=i.$__originalValidate||i.$__validate,i.$__validate=l.createWrapper(\"validate\",i.$__originalValidate,null,s),i.$__remove=l.createWrapper(\"remove\",i.$__remove,null,s),i.$__deleteOne=l.createWrapper(\"deleteOne\",i.$__deleteOne,null,s),i.$__init=l.createWrapperSync(\"init\",i.$__init,null,s);const c=Object.keys(r.methods),d=Object.assign({},s,{checkForPromise:!0});for(const e of c){if(!l.hasHooks(e))continue;const a=i[e];i[e]=function(){const a=Array.prototype.slice.call(arguments),r=t.last(a),o=\"function\"==typeof r?a.slice(0,a.length-1):a;return t.promiseOrCallback(r,t=>this[\"$__\".concat(e)].apply(this,o.concat([t])),n.events)},i[\"$__\".concat(e)]=l.createWrapper(e,a,null,d)}}module.exports=a,a.middlewareFunctions=[\"deleteOne\",\"save\",\"validate\",\"remove\",\"updateOne\",\"init\"];"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":3,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"symbols","original":{"line":3,"column":6},"generated":{"line":1,"column":19}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"require","original":{"line":3,"column":16},"generated":{"line":1,"column":21}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":3,"column":24},"generated":{"line":1,"column":29}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"utils","original":{"line":4,"column":6},"generated":{"line":1,"column":53}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"require","original":{"line":4,"column":14},"generated":{"line":1,"column":55}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":4,"column":22},"generated":{"line":1,"column":63}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":32,"column":0},"generated":{"line":1,"column":78}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"applyHooks","original":{"line":32,"column":9},"generated":{"line":1,"column":87}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"model","original":{"line":32,"column":20},"generated":{"line":1,"column":89}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":32,"column":27},"generated":{"line":1,"column":91}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"options","original":{"line":32,"column":35},"generated":{"line":1,"column":93}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":35,"column":8},"generated":{"line":1,"column":96}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":35,"column":8},"generated":{"line":1,"column":102}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":35,"column":24},"generated":{"line":1,"column":104}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"useErrorHandlers","original":{"line":36,"column":4},"generated":{"line":1,"column":105}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":36,"column":22},"generated":{"line":1,"column":123}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"numCallbackParams","original":{"line":37,"column":4},"generated":{"line":1,"column":125}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":37,"column":23},"generated":{"line":1,"column":143}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"nullResultByDefault","original":{"line":38,"column":4},"generated":{"line":1,"column":145}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":38,"column":25},"generated":{"line":1,"column":166}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"contextParameter","original":{"line":39,"column":4},"generated":{"line":1,"column":168}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":39,"column":22},"generated":{"line":1,"column":186}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":41,"column":8},"generated":{"line":1,"column":189}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"options","original":{"line":33,"column":2},"generated":{"line":1,"column":192}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"options","original":{"line":33,"column":12},"generated":{"line":1,"column":194}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":33,"column":23},"generated":{"line":1,"column":197}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"decorateDoc","original":{"line":41,"column":32},"generated":{"line":1,"column":201}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"model","original":{"line":41,"column":46},"generated":{"line":1,"column":213}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"model","original":{"line":41,"column":54},"generated":{"line":1,"column":215}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"prototype","original":{"line":41,"column":60},"generated":{"line":1,"column":217}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"model","original":{"line":43,"column":2},"generated":{"line":1,"column":227}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$appliedHooks","original":{"line":43,"column":8},"generated":{"line":1,"column":229}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":43,"column":24},"generated":{"line":1,"column":244}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":44,"column":7},"generated":{"line":1,"column":246}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":44,"column":7},"generated":{"line":1,"column":250}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"key","original":{"line":44,"column":13},"generated":{"line":1,"column":256}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"Object","original":{"line":44,"column":20},"generated":{"line":1,"column":261}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":44,"column":27},"generated":{"line":1,"column":268}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":44,"column":32},"generated":{"line":1,"column":273}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"paths","original":{"line":44,"column":39},"generated":{"line":1,"column":275}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":44,"column":47},"generated":{"line":1,"column":282}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":45,"column":10},"generated":{"line":1,"column":283}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":45,"column":10},"generated":{"line":1,"column":289}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":45,"column":17},"generated":{"line":1,"column":291}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"paths","original":{"line":45,"column":24},"generated":{"line":1,"column":293}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"key","original":{"line":45,"column":30},"generated":{"line":1,"column":299}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":46,"column":8},"generated":{"line":1,"column":302}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":46,"column":8},"generated":{"line":1,"column":306}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":46,"column":21},"generated":{"line":1,"column":308}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":47,"column":8},"generated":{"line":1,"column":313}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":47,"column":8},"generated":{"line":1,"column":316}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$isSingleNested","original":{"line":47,"column":13},"generated":{"line":1,"column":318}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":48,"column":6},"generated":{"line":1,"column":334}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":48,"column":19},"generated":{"line":1,"column":336}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"caster","original":{"line":48,"column":24},"generated":{"line":1,"column":338}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":49,"column":11},"generated":{"line":1,"column":349}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":49,"column":11},"generated":{"line":1,"column":350}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":49,"column":15},"generated":{"line":1,"column":354}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$isMongooseDocumentArray","original":{"line":49,"column":20},"generated":{"line":1,"column":356}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":52,"column":6},"generated":{"line":1,"column":381}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":50,"column":6},"generated":{"line":1,"column":390}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":50,"column":19},"generated":{"line":1,"column":392}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"Constructor","original":{"line":50,"column":24},"generated":{"line":1,"column":394}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":55,"column":8},"generated":{"line":1,"column":406}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":55,"column":8},"generated":{"line":1,"column":410}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$appliedHooks","original":{"line":55,"column":19},"generated":{"line":1,"column":412}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"applyHooks","original":{"line":59,"column":4},"generated":{"line":1,"column":428}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":59,"column":15},"generated":{"line":1,"column":430}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"type","original":{"line":59,"column":27},"generated":{"line":1,"column":432}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":59,"column":32},"generated":{"line":1,"column":434}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"options","original":{"line":59,"column":40},"generated":{"line":1,"column":441}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":60,"column":37},"generated":{"line":1,"column":444}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":60,"column":8},"generated":{"line":1,"column":450}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"discriminators","original":{"line":60,"column":19},"generated":{"line":1,"column":452}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":60,"column":43},"generated":{"line":1,"column":468}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":61,"column":12},"generated":{"line":1,"column":469}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":61,"column":12},"generated":{"line":1,"column":475}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"Object","original":{"line":61,"column":19},"generated":{"line":1,"column":477}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":61,"column":26},"generated":{"line":1,"column":484}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":61,"column":31},"generated":{"line":1,"column":489}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"discriminators","original":{"line":61,"column":42},"generated":{"line":1,"column":491}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":62,"column":11},"generated":{"line":1,"column":507}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":62,"column":11},"generated":{"line":1,"column":511}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"j","original":{"line":62,"column":15},"generated":{"line":1,"column":515}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":62,"column":19},"generated":{"line":1,"column":517}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"j","original":{"line":62,"column":22},"generated":{"line":1,"column":519}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":62,"column":26},"generated":{"line":1,"column":521}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"length","original":{"line":62,"column":31},"generated":{"line":1,"column":523}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"j","original":{"line":62,"column":41},"generated":{"line":1,"column":532}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"applyHooks","original":{"line":63,"column":8},"generated":{"line":1,"column":534}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":63,"column":19},"generated":{"line":1,"column":536}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"discriminators","original":{"line":63,"column":30},"generated":{"line":1,"column":538}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":63,"column":45},"generated":{"line":1,"column":553}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"j","original":{"line":63,"column":50},"generated":{"line":1,"column":555}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"childModel","original":{"line":64,"column":10},"generated":{"line":1,"column":559}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"discriminators","original":{"line":64,"column":21},"generated":{"line":1,"column":561}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":64,"column":36},"generated":{"line":1,"column":576}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"j","original":{"line":64,"column":41},"generated":{"line":1,"column":578}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":64,"column":45},"generated":{"line":1,"column":582}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"options","original":{"line":64,"column":53},"generated":{"line":1,"column":589}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":73,"column":8},"generated":{"line":1,"column":593}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":73,"column":8},"generated":{"line":1,"column":599}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":73,"column":21},"generated":{"line":1,"column":601}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"s","original":{"line":73,"column":28},"generated":{"line":1,"column":603}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hooks","original":{"line":73,"column":30},"generated":{"line":1,"column":605}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"filter","original":{"line":74,"column":4},"generated":{"line":1,"column":611}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":74,"column":11},"generated":{"line":1,"column":618}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":75,"column":24},"generated":{"line":1,"column":621}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":75,"column":10},"generated":{"line":1,"column":635}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"name","original":{"line":75,"column":15},"generated":{"line":1,"column":637}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":75,"column":53},"generated":{"line":1,"column":643}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":75,"column":39},"generated":{"line":1,"column":657}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"name","original":{"line":75,"column":44},"generated":{"line":1,"column":659}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":76,"column":17},"generated":{"line":1,"column":666}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":76,"column":21},"generated":{"line":1,"column":668}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":78,"column":24},"generated":{"line":1,"column":677}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":78,"column":10},"generated":{"line":1,"column":688}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"name","original":{"line":78,"column":15},"generated":{"line":1,"column":690}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":79,"column":35},"generated":{"line":1,"column":697}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":79,"column":15},"generated":{"line":1,"column":703}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":79,"column":19},"generated":{"line":1,"column":705}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":79,"column":45},"generated":{"line":1,"column":717}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":79,"column":49},"generated":{"line":1,"column":719}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"filter","original":{"line":83,"column":4},"generated":{"line":1,"column":730}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":83,"column":11},"generated":{"line":1,"column":737}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":85,"column":10},"generated":{"line":1,"column":741}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"methods","original":{"line":85,"column":17},"generated":{"line":1,"column":743}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":85,"column":25},"generated":{"line":1,"column":751}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"name","original":{"line":85,"column":30},"generated":{"line":1,"column":753}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hook","original":{"line":86,"column":16},"generated":{"line":1,"column":761}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"fn","original":{"line":86,"column":21},"generated":{"line":1,"column":763}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"symbols","original":{"line":86,"column":24},"generated":{"line":1,"column":766}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"builtInMiddleware","original":{"line":86,"column":32},"generated":{"line":1,"column":768}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"model","original":{"line":92,"column":2},"generated":{"line":1,"column":788}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"_middleware","original":{"line":92,"column":8},"generated":{"line":1,"column":790}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":92,"column":22},"generated":{"line":1,"column":802}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":94,"column":2},"generated":{"line":1,"column":804}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__save","original":{"line":94,"column":16},"generated":{"line":1,"column":806}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":94,"column":26},"generated":{"line":1,"column":814}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"createWrapper","original":{"line":95,"column":4},"generated":{"line":1,"column":816}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":95,"column":18},"generated":{"line":1,"column":830}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":95,"column":26},"generated":{"line":1,"column":837}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__save","original":{"line":95,"column":40},"generated":{"line":1,"column":839}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":95,"column":49},"generated":{"line":1,"column":847}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":95,"column":55},"generated":{"line":1,"column":852}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":97,"column":2},"generated":{"line":1,"column":855}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__originalValidate","original":{"line":97,"column":16},"generated":{"line":1,"column":857}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":97,"column":38},"generated":{"line":1,"column":877}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__originalValidate","original":{"line":97,"column":52},"generated":{"line":1,"column":879}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":97,"column":75},"generated":{"line":1,"column":900}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__validate","original":{"line":97,"column":89},"generated":{"line":1,"column":902}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":98,"column":2},"generated":{"line":1,"column":914}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__validate","original":{"line":98,"column":16},"generated":{"line":1,"column":916}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":98,"column":30},"generated":{"line":1,"column":928}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"createWrapper","original":{"line":99,"column":4},"generated":{"line":1,"column":930}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":99,"column":18},"generated":{"line":1,"column":944}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":99,"column":30},"generated":{"line":1,"column":955}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__originalValidate","original":{"line":99,"column":44},"generated":{"line":1,"column":957}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":99,"column":65},"generated":{"line":1,"column":977}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":99,"column":71},"generated":{"line":1,"column":982}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":100,"column":2},"generated":{"line":1,"column":985}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__remove","original":{"line":100,"column":16},"generated":{"line":1,"column":987}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":100,"column":28},"generated":{"line":1,"column":997}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"createWrapper","original":{"line":101,"column":4},"generated":{"line":1,"column":999}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":101,"column":18},"generated":{"line":1,"column":1013}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":101,"column":28},"generated":{"line":1,"column":1022}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__remove","original":{"line":101,"column":42},"generated":{"line":1,"column":1024}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":101,"column":53},"generated":{"line":1,"column":1034}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":101,"column":59},"generated":{"line":1,"column":1039}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":102,"column":2},"generated":{"line":1,"column":1042}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__deleteOne","original":{"line":102,"column":16},"generated":{"line":1,"column":1044}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":102,"column":31},"generated":{"line":1,"column":1057}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"createWrapper","original":{"line":103,"column":4},"generated":{"line":1,"column":1059}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":103,"column":18},"generated":{"line":1,"column":1073}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":103,"column":31},"generated":{"line":1,"column":1085}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__deleteOne","original":{"line":103,"column":45},"generated":{"line":1,"column":1087}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":103,"column":59},"generated":{"line":1,"column":1100}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":103,"column":65},"generated":{"line":1,"column":1105}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":104,"column":2},"generated":{"line":1,"column":1108}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__init","original":{"line":104,"column":16},"generated":{"line":1,"column":1110}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":104,"column":26},"generated":{"line":1,"column":1118}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"createWrapperSync","original":{"line":105,"column":4},"generated":{"line":1,"column":1120}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":105,"column":22},"generated":{"line":1,"column":1138}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":105,"column":30},"generated":{"line":1,"column":1145}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"$__init","original":{"line":105,"column":44},"generated":{"line":1,"column":1147}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":105,"column":53},"generated":{"line":1,"column":1155}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":105,"column":59},"generated":{"line":1,"column":1160}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"customMethods","original":{"line":108,"column":8},"generated":{"line":1,"column":1163}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"customMethods","original":{"line":108,"column":8},"generated":{"line":1,"column":1169}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"Object","original":{"line":108,"column":24},"generated":{"line":1,"column":1171}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"keys","original":{"line":108,"column":31},"generated":{"line":1,"column":1178}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"schema","original":{"line":108,"column":36},"generated":{"line":1,"column":1183}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"methods","original":{"line":108,"column":43},"generated":{"line":1,"column":1185}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"customMethodOptions","original":{"line":109,"column":8},"generated":{"line":1,"column":1194}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"Object","original":{"line":109,"column":30},"generated":{"line":1,"column":1196}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"assign","original":{"line":109,"column":37},"generated":{"line":1,"column":1203}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":109,"column":44},"generated":{"line":1,"column":1210}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"kareemOptions","original":{"line":109,"column":48},"generated":{"line":1,"column":1213}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":109,"column":63},"generated":{"line":1,"column":1215}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"checkForPromise","original":{"line":114,"column":4},"generated":{"line":1,"column":1216}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":114,"column":21},"generated":{"line":1,"column":1233}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":116,"column":7},"generated":{"line":1,"column":1237}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":116,"column":7},"generated":{"line":1,"column":1241}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":116,"column":13},"generated":{"line":1,"column":1247}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"customMethods","original":{"line":116,"column":23},"generated":{"line":1,"column":1252}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":116,"column":38},"generated":{"line":1,"column":1254}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":117,"column":8},"generated":{"line":1,"column":1255}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":117,"column":9},"generated":{"line":1,"column":1259}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"hasHooks","original":{"line":117,"column":20},"generated":{"line":1,"column":1261}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":117,"column":29},"generated":{"line":1,"column":1270}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":121,"column":6},"generated":{"line":1,"column":1273}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"originalMethod","original":{"line":123,"column":10},"generated":{"line":1,"column":1282}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"originalMethod","original":{"line":123,"column":10},"generated":{"line":1,"column":1288}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":123,"column":27},"generated":{"line":1,"column":1290}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":123,"column":41},"generated":{"line":1,"column":1292}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":124,"column":4},"generated":{"line":1,"column":1295}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":124,"column":18},"generated":{"line":1,"column":1297}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":124,"column":28},"generated":{"line":1,"column":1300}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"args","original":{"line":125,"column":12},"generated":{"line":1,"column":1311}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"args","original":{"line":125,"column":12},"generated":{"line":1,"column":1317}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"Array","original":{"line":125,"column":19},"generated":{"line":1,"column":1319}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"prototype","original":{"line":125,"column":25},"generated":{"line":1,"column":1325}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"slice","original":{"line":125,"column":35},"generated":{"line":1,"column":1335}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"call","original":{"line":125,"column":41},"generated":{"line":1,"column":1341}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"arguments","original":{"line":125,"column":46},"generated":{"line":1,"column":1346}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"cb","original":{"line":126,"column":12},"generated":{"line":1,"column":1357}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"utils","original":{"line":126,"column":17},"generated":{"line":1,"column":1359}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"last","original":{"line":126,"column":23},"generated":{"line":1,"column":1361}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"args","original":{"line":126,"column":28},"generated":{"line":1,"column":1366}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"argsWithoutCallback","original":{"line":127,"column":12},"generated":{"line":1,"column":1369}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":127,"column":48},"generated":{"line":1,"column":1371}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"cb","original":{"line":127,"column":41},"generated":{"line":1,"column":1390}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"args","original":{"line":128,"column":8},"generated":{"line":1,"column":1392}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"slice","original":{"line":128,"column":13},"generated":{"line":1,"column":1394}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":128,"column":19},"generated":{"line":1,"column":1400}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"args","original":{"line":128,"column":22},"generated":{"line":1,"column":1402}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"length","original":{"line":128,"column":27},"generated":{"line":1,"column":1404}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":128,"column":36},"generated":{"line":1,"column":1411}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"args","original":{"line":128,"column":41},"generated":{"line":1,"column":1414}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"utils","original":{"line":129,"column":13},"generated":{"line":1,"column":1416}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"utils","original":{"line":129,"column":13},"generated":{"line":1,"column":1423}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"promiseOrCallback","original":{"line":129,"column":19},"generated":{"line":1,"column":1425}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"cb","original":{"line":129,"column":37},"generated":{"line":1,"column":1443}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"callback","original":{"line":129,"column":41},"generated":{"line":1,"column":1445}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":130,"column":15},"generated":{"line":1,"column":1448}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":130,"column":26},"generated":{"line":1,"column":1453}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":130,"column":26},"generated":{"line":1,"column":1459}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":130,"column":26},"generated":{"line":1,"column":1466}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"apply","original":{"line":130,"column":36},"generated":{"line":1,"column":1470}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":130,"column":42},"generated":{"line":1,"column":1476}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"argsWithoutCallback","original":{"line":131,"column":10},"generated":{"line":1,"column":1481}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"concat","original":{"line":131,"column":30},"generated":{"line":1,"column":1483}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":131,"column":37},"generated":{"line":1,"column":1490}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"callback","original":{"line":131,"column":38},"generated":{"line":1,"column":1491}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"model","original":{"line":132,"column":9},"generated":{"line":1,"column":1496}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"events","original":{"line":132,"column":15},"generated":{"line":1,"column":1498}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"objToDecorate","original":{"line":134,"column":4},"generated":{"line":1,"column":1507}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":134,"column":24},"generated":{"line":1,"column":1509}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":134,"column":24},"generated":{"line":1,"column":1515}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":134,"column":24},"generated":{"line":1,"column":1522}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middleware","original":{"line":134,"column":36},"generated":{"line":1,"column":1526}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"createWrapper","original":{"line":135,"column":6},"generated":{"line":1,"column":1528}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"method","original":{"line":135,"column":20},"generated":{"line":1,"column":1542}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"originalMethod","original":{"line":135,"column":28},"generated":{"line":1,"column":1544}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":135,"column":44},"generated":{"line":1,"column":1546}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"customMethodOptions","original":{"line":135,"column":50},"generated":{"line":1,"column":1551}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"module","original":{"line":10,"column":0},"generated":{"line":1,"column":1555}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"exports","original":{"line":10,"column":7},"generated":{"line":1,"column":1562}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"applyHooks","original":{"line":10,"column":17},"generated":{"line":1,"column":1570}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"applyHooks","original":{"line":16,"column":0},"generated":{"line":1,"column":1572}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","name":"middlewareFunctions","original":{"line":16,"column":11},"generated":{"line":1,"column":1574}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":16,"column":33},"generated":{"line":1,"column":1594}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":17,"column":2},"generated":{"line":1,"column":1595}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":18,"column":2},"generated":{"line":1,"column":1607}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":19,"column":2},"generated":{"line":1,"column":1614}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":20,"column":2},"generated":{"line":1,"column":1625}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":21,"column":2},"generated":{"line":1,"column":1634}},{"source":"node_modules/mongoose/lib/helpers/model/applyHooks.js","original":{"line":22,"column":2},"generated":{"line":1,"column":1646}}],"sources":{"node_modules/mongoose/lib/helpers/model/applyHooks.js":"'use strict';\n\nconst symbols = require('../../schema/symbols');\nconst utils = require('../../utils');\n\n/*!\n * ignore\n */\n\nmodule.exports = applyHooks;\n\n/*!\n * ignore\n */\n\napplyHooks.middlewareFunctions = [\n  'deleteOne',\n  'save',\n  'validate',\n  'remove',\n  'updateOne',\n  'init'\n];\n\n/*!\n * Register hooks for this model\n *\n * @param {Model} model\n * @param {Schema} schema\n */\n\nfunction applyHooks(model, schema, options) {\n  options = options || {};\n\n  const kareemOptions = {\n    useErrorHandlers: true,\n    numCallbackParams: 1,\n    nullResultByDefault: true,\n    contextParameter: true\n  };\n  const objToDecorate = options.decorateDoc ? model : model.prototype;\n\n  model.$appliedHooks = true;\n  for (const key of Object.keys(schema.paths)) {\n    const type = schema.paths[key];\n    let childModel = null;\n    if (type.$isSingleNested) {\n      childModel = type.caster;\n    } else if (type.$isMongooseDocumentArray) {\n      childModel = type.Constructor;\n    } else {\n      continue;\n    }\n\n    if (childModel.$appliedHooks) {\n      continue;\n    }\n\n    applyHooks(childModel, type.schema, options);\n    if (childModel.discriminators != null) {\n      const keys = Object.keys(childModel.discriminators);\n      for (let j = 0; j < keys.length; ++j) {\n        applyHooks(childModel.discriminators[keys[j]],\n          childModel.discriminators[keys[j]].schema, options);\n      }\n    }\n  }\n\n  // Built-in hooks rely on hooking internal functions in order to support\n  // promises and make it so that `doc.save.toString()` provides meaningful\n  // information.\n\n  const middleware = schema.s.hooks.\n    filter(hook => {\n      if (hook.name === 'updateOne' || hook.name === 'deleteOne') {\n        return !!hook['document'];\n      }\n      if (hook.name === 'remove') {\n        return hook['document'] == null || !!hook['document'];\n      }\n      return true;\n    }).\n    filter(hook => {\n      // If user has overwritten the method, don't apply built-in middleware\n      if (schema.methods[hook.name]) {\n        return !hook.fn[symbols.builtInMiddleware];\n      }\n\n      return true;\n    });\n\n  model._middleware = middleware;\n\n  objToDecorate.$__save = middleware.\n    createWrapper('save', objToDecorate.$__save, null, kareemOptions);\n\n  objToDecorate.$__originalValidate = objToDecorate.$__originalValidate || objToDecorate.$__validate;\n  objToDecorate.$__validate = middleware.\n    createWrapper('validate', objToDecorate.$__originalValidate, null, kareemOptions);\n  objToDecorate.$__remove = middleware.\n    createWrapper('remove', objToDecorate.$__remove, null, kareemOptions);\n  objToDecorate.$__deleteOne = middleware.\n    createWrapper('deleteOne', objToDecorate.$__deleteOne, null, kareemOptions);\n  objToDecorate.$__init = middleware.\n    createWrapperSync('init', objToDecorate.$__init, null, kareemOptions);\n\n  // Support hooks for custom methods\n  const customMethods = Object.keys(schema.methods);\n  const customMethodOptions = Object.assign({}, kareemOptions, {\n    // Only use `checkForPromise` for custom methods, because mongoose\n    // query thunks are not as consistent as I would like about returning\n    // a nullish value rather than the query. If a query thunk returns\n    // a query, `checkForPromise` causes infinite recursion\n    checkForPromise: true\n  });\n  for (const method of customMethods) {\n    if (!middleware.hasHooks(method)) {\n      // Don't wrap if there are no hooks for the custom method to avoid\n      // surprises. Also, `createWrapper()` enforces consistent async,\n      // so wrapping a sync method would break it.\n      continue;\n    }\n    const originalMethod = objToDecorate[method];\n    objToDecorate[method] = function() {\n      const args = Array.prototype.slice.call(arguments);\n      const cb = utils.last(args);\n      const argsWithoutCallback = typeof cb === 'function' ?\n        args.slice(0, args.length - 1) : args;\n      return utils.promiseOrCallback(cb, callback => {\n        return this[`$__${method}`].apply(this,\n          argsWithoutCallback.concat([callback]));\n      }, model.events);\n    };\n    objToDecorate[`$__${method}`] = middleware.\n      createWrapper(method, originalMethod, null, customMethodOptions);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"be8ef4ce9e2e45b431f6110b1ae3e0b9","cacheData":{"env":{}}}