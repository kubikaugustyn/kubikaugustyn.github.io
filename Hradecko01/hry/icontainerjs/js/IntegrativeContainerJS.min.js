/**
 * Hlavní třída pro ovládání js containeru
 *
 * @version 1.0.9
 * @author JoseDu Josef.Duda@ceskatelevize.cz
 */
function sendAppRequest(a,b,c,d,e){url=b,null!==d&&(url+="?"+d),null===c&&(c={}),c.app=a,$.ajax({type:"GET",url:url,dataType:"json",data:c,error:function(a){console.log("FlashAppError: ",a)},success:function(a){startIc(a.flashvars),void 0!==e&&null!==e&&e()}})}function startIc(a){AmfConnector.init(a.amfUrl,a.token),AmfConnector.getAppConfig(getAppCongifCallback)}function getAppCongifCallback(a){dpCont||"OK"!==a.status||(dpCont=new DpCont.ContManager(a.config))}function startLocalTestingContainer(a,b){DpCont.isLocalTest=!0,void 0!==b&&(DpCont.runType=b),"undefined"!=typeof testIsDown&&(testIsDown?DpCont.localTestServer="decko":DpCont.localTestServer="decko-test"),a.integrativeContainer.urnServiceUrl="",dpCont=new DpCont.ContManager(a)}!function(a){function b(a,b,c,d,e){this._listener=b,this._isOnce=c,this.context=d,this._signal=a,this._priority=e||0}function c(a,b){if("function"!=typeof a)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b))}function d(){this._bindings=[],this._prevParams=null;var a=this;this.dispatch=function(){d.prototype.dispatch.apply(a,arguments)}}b.prototype={active:!0,params:null,execute:function(a){var b,c;return this.active&&this._listener&&(c=this.params?this.params.concat(a):a,b=this._listener.apply(this.context,c),this._isOnce&&this.detach()),b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},d.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,c,d,e){var f,g=this._indexOfListener(a,d);if(g!==-1){if(f=this._bindings[g],f.isOnce()!==c)throw new Error("You cannot add"+(c?"":"Once")+"() then add"+(c?"Once":"")+"() the same listener without removing the relationship first.")}else f=new b(this,a,c,d,e),this._addBinding(f);return this.memorize&&this._prevParams&&f.execute(this._prevParams),f},_addBinding:function(a){var b=this._bindings.length;do{--b}while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){for(var c,d=this._bindings.length;d--;)if(c=this._bindings[d],c._listener===a&&c.context===b)return d;return-1},has:function(a,b){return this._indexOfListener(a,b)!==-1},add:function(a,b,d){return c(a,"add"),this._registerListener(a,!1,b,d)},addOnce:function(a,b,d){return c(a,"addOnce"),this._registerListener(a,!0,b,d)},remove:function(a,b){c(a,"remove");var d=this._indexOfListener(a,b);return d!==-1&&(this._bindings[d]._destroy(),this._bindings.splice(d,1)),a},removeAll:function(){for(var a=this._bindings.length;a--;)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(this.active){var b,c=Array.prototype.slice.call(arguments),d=this._bindings.length;if(this.memorize&&(this._prevParams=c),d){b=this._bindings.slice(),this._shouldPropagate=!0;do{d--}while(b[d]&&this._shouldPropagate&&b[d].execute(c)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var e=d;e.Signal=d,"function"==typeof define&&define.amd?define(function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:a.signals=e}(this),function(){"use strict";function a(){try{"undefined"!=typeof AudioContext?b=new AudioContext:"undefined"!=typeof webkitAudioContext?b=new webkitAudioContext:c=!1}catch(a){c=!1}if(!c)if("undefined"!=typeof Audio)try{var a=new Audio;void 0===a.oncanplaythrough&&(f="canplay")}catch(a){d=!0}else d=!0;try{var a=new Audio;a.muted&&(d=!0)}catch(a){}try{c&&(e=void 0===b.createGain?b.createGainNode():b.createGain(),e.gain.setValueAtTime(1,b.currentTime),e.connect(b.destination))}catch(a){}}var b=null,c=!0,d=!1,e=null,f="canplaythrough";a();var g=function(){this.init()};g.prototype={init:function(){var a=this||h;return a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a.mobileAutoEnable=!0,a.noAudio=d,a.usingWebAudio=c,a.ctx=b,d||a._setupCodecs(),a},volume:function(a){var b=this||h;if(void 0!==(a=parseFloat(a))&&a>=0&&a<=1){b._volume=a,c&&e.gain.setValueAtTime(a,b.ctx.currentTime);for(var d=0;d<b._howls.length;d++)if(!b._howls[d]._webAudio)for(var f=b._howls[d]._getSoundIds(),g=0;g<f.length;g++){var i=b._howls[d]._soundById(f[g]);i&&i._node&&(i._node.volume=i._volume*a)}return b}return b._volume},mute:function(a){var b=this||h;b._muted=a,c&&e.gain.setValueAtTime(a?0:b._volume,b.ctx.currentTime);for(var d=0;d<b._howls.length;d++)if(!b._howls[d]._webAudio)for(var f=b._howls[d]._getSoundIds(),g=0;g<f.length;g++){var i=b._howls[d]._soundById(f[g]);i&&i._node&&(i._node.muted=!!a||i._muted)}return b},unload:function(){for(var c=this||h,d=c._howls.length-1;d>=0;d--)c._howls[d].unload();return c.usingWebAudio&&void 0!==b.close&&(c.ctx=null,b.close(),a(),c.ctx=b),c},codecs:function(a){return(this||h)._codecs[a]},_setupCodecs:function(){var a=this||h,b=new Audio,c=b.canPlayType("audio/mpeg;").replace(/^no$/,""),d=/OPR\//.test(navigator.userAgent);return a._codecs={mp3:!(d||!c&&!b.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!c,opus:!!b.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!b.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!b.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(b.canPlayType("audio/x-mp4;")||b.canPlayType("audio/mp4;")||b.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!b.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")},a},_enableMobileAudio:function(){var a=this||h,c=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk/i.test(navigator.userAgent),d=!!("ontouchend"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);if(!b||!a._mobileEnabled&&c&&d){a._mobileEnabled=!1;var e=function(){var c=b.createBuffer(1,1,22050),d=b.createBufferSource();d.buffer=c,d.connect(b.destination),void 0===d.start?d.noteOn(0):d.start(0),d.onended=function(){d.disconnect(0),a._mobileEnabled=!0,a.mobileAutoEnable=!1,document.removeEventListener("touchend",e,!0)}};return document.addEventListener("touchend",e,!0),a}}};var h=new g,i=function(a){var b=this;if(!a.src||0===a.src.length)return void console.error("An array of source files must be passed with any new IcHowl.");b.init(a)};i.prototype={init:function(a){var d=this;return d._autoplay=a.autoplay||!1,d._ext=a.ext||null,d._html5=a.html5||!1,d._muted=a.mute||!1,d._loop=a.loop||!1,d._pool=a.pool||5,d._preload="boolean"!=typeof a.preload||a.preload,d._rate=a.rate||1,d._sprite=a.sprite||{},d._src="string"!=typeof a.src?a.src:[a.src],d._volume=void 0!==a.volume?a.volume:1,d._duration=0,d._loaded=!1,d._sounds=[],d._endTimers={},d._onend=a.onend?[{fn:a.onend}]:[],d._onfaded=a.onfaded?[{fn:a.onfaded}]:[],d._onload=a.onload?[{fn:a.onload}]:[],d._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],d._onpause=a.onpause?[{fn:a.onpause}]:[],d._onplay=a.onplay?[{fn:a.onplay}]:[],d._onstop=a.onstop?[{fn:a.onstop}]:[],d._webAudio=c&&!d._html5,void 0!==b&&b&&h.mobileAutoEnable&&h._enableMobileAudio(),h._howls.push(d),d._preload&&d.load(),d},load:function(){var a=this,b=null;if(d)return void a._emit("loaderror",null,"No audio support.");"string"==typeof a._src&&(a._src=[a._src]);for(var c=0;c<a._src.length;c++){var e,f;if(a._ext&&a._ext[c]?e=a._ext[c]:(f=a._src[c],e=/^data:audio\/([^;,]+);/i.exec(f),e||(e=/\.([^.]+)$/.exec(f.split("?",1)[0])),e&&(e=e[1].toLowerCase())),h.codecs(e)){b=a._src[c];break}}return b?(a._src=b,"https:"===window.location.protocol&&"http:"===b.slice(0,5)&&(a._html5=!0,a._webAudio=!1),new j(a),a._webAudio&&l(a),a):void a._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(a){var c=this,d=arguments,e=null;if(DpCont.contManager.stats.trackSoundEvent("play"),"number"==typeof a)e=a,a=null;else if(void 0===a){a="__default";for(var g=0,i=0;i<c._sounds.length;i++)c._sounds[i]._paused&&!c._sounds[i]._ended&&(g++,e=c._sounds[i]._id);1===g?a=null:e=null}var j=e?c._soundById(e):c._inactiveSound();if(!j)return null;if(e&&!a&&(a=j._sprite||"__default"),!c._loaded&&!c._sprite[a])return c.once("load",function(){c.play(c._soundById(j._id)?j._id:void 0)}),j._id;if(e&&!j._paused)return j._id;var k=j._seek>0?j._seek:c._sprite[a][0]/1e3,l=(c._sprite[a][0]+c._sprite[a][1])/1e3-k,m=1e3*l/Math.abs(j._rate);m!==1/0&&(c._endTimers[j._id]=setTimeout(c._ended.bind(c,j),m)),j._paused=!1,j._ended=!1,j._sprite=a,j._seek=k,j._start=c._sprite[a][0]/1e3,j._stop=(c._sprite[a][0]+c._sprite[a][1])/1e3,j._loop=!(!j._loop&&!c._sprite[a][2]);var n=j._node;if(c._webAudio){var o=function(){c._refreshBuffer(j);var a=j._muted||c._muted?0:j._volume*h.volume();n.gain.setValueAtTime(a,b.currentTime),j._playStart=b.currentTime,void 0===n.bufferSource.start?j._loop?n.bufferSource.noteGrainOn(0,k,86400):n.bufferSource.noteGrainOn(0,k,l):j._loop?n.bufferSource.start(0,k,86400):n.bufferSource.start(0,k,l),c._endTimers[j._id]||m===1/0||(c._endTimers[j._id]=setTimeout(c._ended.bind(c,j),m)),d[1]||setTimeout(function(){c._emit("play",j._id)},0)};c._loaded?o():(c.once("load",o),c._clearTimer(j._id))}else{var p=function(){n.currentTime=k,n.muted=j._muted||c._muted||h._muted||n.muted,n.volume=j._volume*h.volume(),n.playbackRate=j._rate,setTimeout(function(){n.play(),d[1]||c._emit("play",j._id)},0)};if(4===n.readyState||!n.readyState&&navigator.isCocoonJS)p();else{var q=function(){m!==1/0&&(c._endTimers[j._id]=setTimeout(c._ended.bind(c,j),m)),p(),n.removeEventListener(f,q,!1)};n.addEventListener(f,q,!1),c._clearTimer(j._id)}}return j._id},pause:function(a){var b=this;if(!b._loaded)return b.once("play",function(){b.pause(a)}),b;for(var c=b._getSoundIds(a),d=0;d<c.length;d++){b._clearTimer(c[d]);var e=b._soundById(c[d]);if(e&&!e._paused){if(e._seek=b.seek(c[d]),e._paused=!0,b._stopFade(c[d]),e._node)if(b._webAudio){if(!e._node.bufferSource)return b;void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),e._node.bufferSource=null}else isNaN(e._node.duration)&&e._node.duration!==1/0||e._node.pause();arguments[1]||b._emit("pause",e._id)}}return b},stop:function(a){var b=this;if(!b._loaded)return void 0!==b._sounds[0]._sprite&&b.once("play",function(){b.stop(a)}),b;for(var c=b._getSoundIds(a),d=0;d<c.length;d++){b._clearTimer(c[d]);var e=b._soundById(c[d]);if(e&&!e._paused){if(e._seek=e._start||0,e._paused=!0,e._ended=!0,b._stopFade(c[d]),e._node)if(b._webAudio){if(!e._node.bufferSource)return b;void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),e._node.bufferSource=null}else isNaN(e._node.duration)&&e._node.duration!==1/0||(e._node.pause(),e._node.currentTime=e._start||0);b._emit("stop",e._id)}}return b},mute:function(a,c){var d=this;if(!d._loaded)return d.once("play",function(){d.mute(a,c)}),d;if(void 0===c){if("boolean"!=typeof a)return d._muted;d._muted=a}for(var e=d._getSoundIds(c),f=0;f<e.length;f++){var g=d._soundById(e[f]);g&&(g._muted=a,d._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume*h.volume(),b.currentTime):g._node&&(g._node.muted=!!h._muted||a))}return d},volume:function(){var a,c,d=this,e=arguments;if(0===e.length)return d._volume;if(1===e.length){d._getSoundIds().indexOf(e[0])>=0?c=parseInt(e[0],10):a=parseFloat(e[0])}else e.length>=2&&(a=parseFloat(e[0]),c=parseInt(e[1],10));var f;if(!(void 0!==a&&a>=0&&a<=1))return f=c?d._soundById(c):d._sounds[0],f?f._volume:0;if(!d._loaded)return d.once("play",function(){d.volume.apply(d,e)}),d;void 0===c&&(d._volume=a),c=d._getSoundIds(c);for(var g=0;g<c.length;g++)(f=d._soundById(c[g]))&&(f._volume=a,e[2]||d._stopFade(c[g]),d._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(a*h.volume(),b.currentTime):f._node&&!f._muted&&(f._node.volume=a*h.volume()));return d},fade:function(a,c,d,e){var f=this;if(!f._loaded)return f.once("play",function(){f.fade(a,c,d,e)}),f;f.volume(a,e);for(var g=f._getSoundIds(e),h=0;h<g.length;h++){var i=f._soundById(g[h]);if(i)if(f._webAudio&&!i._muted){var j=b.currentTime,k=j+d/1e3;i._volume=a,i._node.gain.setValueAtTime(a,j),i._node.gain.linearRampToValueAtTime(c,k),i._timeout=setTimeout(function(a,d){delete d._timeout,setTimeout(function(){d._volume=c,f._emit("faded",a)},k-b.currentTime>0?Math.ceil(1e3*(k-b.currentTime)):0)}.bind(f,g[h],i),d)}else{var l=Math.abs(a-c),m=a>c?"out":"in",n=l/.01,o=d/n;!function(){var b=a;i._interval=setInterval(function(a,d){b+="in"===m?.01:-.01,b=Math.max(0,b),b=Math.min(1,b),b=Math.round(100*b)/100,f.volume(b,a,!0),b===c&&(clearInterval(d._interval),delete d._interval,f._emit("faded",a))}.bind(f,g[h],i),o)}()}}return f},_stopFade:function(a){var c=this,d=c._soundById(a);return d._interval?(clearInterval(d._interval),delete d._interval,c._emit("faded",a)):d._timeout&&(clearTimeout(d._timeout),delete d._timeout,d._node.gain.cancelScheduledValues(b.currentTime),c._emit("faded",a)),c},loop:function(){var a,b,c,d=this,e=arguments;if(0===e.length)return d._loop;if(1===e.length){if("boolean"!=typeof e[0])return!!(c=d._soundById(parseInt(e[0],10)))&&c._loop;a=e[0],d._loop=a}else 2===e.length&&(a=e[0],b=parseInt(e[1],10));for(var f=d._getSoundIds(b),g=0;g<f.length;g++)(c=d._soundById(f[g]))&&(c._loop=a,d._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=a));return d},rate:function(){var a,b,c=this,d=arguments;if(0===d.length)b=c._sounds[0]._id;else if(1===d.length){var e=c._getSoundIds(),f=e.indexOf(d[0]);f>=0?b=parseInt(d[0],10):a=parseFloat(d[0])}else 2===d.length&&(a=parseFloat(d[0]),b=parseInt(d[1],10));var g;if("number"!=typeof a)return g=c._soundById(b),g?g._rate:c._rate;if(!c._loaded)return c.once("load",function(){c.rate.apply(c,d)}),c;void 0===b&&(c._rate=a),b=c._getSoundIds(b);for(var h=0;h<b.length;h++)if(g=c._soundById(b[h])){g._rate=a,c._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.value=a:g._node&&(g._node.playbackRate=a);var i=c.seek(b[h]),j=(c._sprite[g._sprite][0]+c._sprite[g._sprite][1])/1e3-i,k=1e3*j/Math.abs(g._rate);c._clearTimer(b[h]),c._endTimers[b[h]]=setTimeout(c._ended.bind(c,g),k)}return c},seek:function(){var a,c,d=this,e=arguments;if(0===e.length)c=d._sounds[0]._id;else if(1===e.length){var f=d._getSoundIds(),g=f.indexOf(e[0]);g>=0?c=parseInt(e[0],10):(c=d._sounds[0]._id,a=parseFloat(e[0]))}else 2===e.length&&(a=parseFloat(e[0]),c=parseInt(e[1],10));if(void 0===c)return d;if(!d._loaded)return d.once("load",function(){d.seek.apply(d,e)}),d;var h=d._soundById(c);if(h){if(!(a>=0))return d._webAudio?h._seek+(d.playing(c)?b.currentTime-h._playStart:0):h._node.currentTime;var i=d.playing(c);i&&d.pause(c,!0),h._seek=a,d._clearTimer(c),i&&d.play(c,!0)}return d},playing:function(a){var b=this,c=b._soundById(a)||b._sounds[0];return!!c&&!c._paused},duration:function(){return this._duration},unload:function(){for(var a=this,b=a._sounds,c=0;c<b.length;c++){b[c]._paused||(a.stop(b[c]._id),a._emit("end",b[c]._id)),a._webAudio||(b[c]._node.src="",b[c]._node.removeEventListener("error",b[c]._errorFn,!1),b[c]._node.removeEventListener(f,b[c]._loadFn,!1)),delete b[c]._node,a._clearTimer(b[c]._id);var d=h._howls.indexOf(a);d>=0&&h._howls.splice(d,1)}return k&&delete k[a._src],a._sounds=[],a=null,null},on:function(a,b,c,d){var e=this,f=e["_on"+a];return"function"==typeof b&&f.push(d?{id:c,fn:b,once:d}:{id:c,fn:b}),e},off:function(a,b,c){var d=this,e=d["_on"+a];if(b){for(var f=0;f<e.length;f++)if(b===e[f].fn&&c===e[f].id){e.splice(f,1);break}}else d["on"+a]=[];return d},once:function(a,b,c){var d=this;return d.on(a,b,c,1),d},_emit:function(a,b,c){for(var d=this,e=d["_on"+a],f=0;f<e.length;f++)e[f].id&&e[f].id!==b||(setTimeout(function(a){a.call(this,b,c)}.bind(d,e[f].fn),0),e[f].once&&d.off(a,e[f].fn,e[f].id));return d},_ended:function(a){var c=this,d=a._sprite,e=!(!a._loop&&!c._sprite[d][2]);if(c._emit("end",a._id),!c._webAudio&&e&&c.stop(a._id).play(a._id),c._webAudio&&e){c._emit("play",a._id),a._seek=a._start||0,a._playStart=b.currentTime;var f=1e3*(a._stop-a._start)/Math.abs(a._rate);c._endTimers[a._id]=setTimeout(c._ended.bind(c,a),f)}return c._webAudio&&!e&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,c._clearTimer(a._id),a._node.bufferSource=null),c._webAudio||e||c.stop(a._id),c},_clearTimer:function(a){var b=this;return b._endTimers[a]&&(clearTimeout(b._endTimers[a]),delete b._endTimers[a]),b},_soundById:function(a){for(var b=this,c=0;c<b._sounds.length;c++)if(a===b._sounds[c]._id)return b._sounds[c];return null},_inactiveSound:function(){var a=this;a._drain();for(var b=0;b<a._sounds.length;b++)if(a._sounds[b]._ended)return a._sounds[b].reset();return new j(a)},_drain:function(){var a=this,b=a._pool,c=0,d=0;if(!(a._sounds.length<b)){for(d=0;d<a._sounds.length;d++)a._sounds[d]._ended&&c++;for(d=a._sounds.length-1;d>=0;d--){if(c<=b)return;a._sounds[d]._ended&&(a._webAudio&&a._sounds[d]._node&&a._sounds[d]._node.disconnect(0),a._sounds.splice(d,1),c--)}}},_getSoundIds:function(a){var b=this;if(void 0===a){for(var c=[],d=0;d<b._sounds.length;d++)c.push(b._sounds[d]._id);return c}return[a]},_refreshBuffer:function(a){var c=this;return a._node.bufferSource=b.createBufferSource(),a._node.bufferSource.buffer=k[c._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop),a._node.bufferSource.playbackRate.value=c._rate,c}};var j=function(a){this._parent=a,this.init()};if(j.prototype={init:function(){var a=this,b=a._parent;return a._muted=b._muted,a._loop=b._loop,a._volume=b._volume,a._muted=b._muted,a._rate=b._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=Math.round(Date.now()*Math.random()),b._sounds.push(a),a.create(),a},create:function(){var a=this,c=a._parent,d=h._muted||a._muted||a._parent._muted?0:a._volume*h.volume();if(c._webAudio)try{a._node=void 0===b.createGain?b.createGainNode():b.createGain(),a._node.gain.setValueAtTime(d,b.currentTime),a._node.paused=!0,a._node.connect(e)}catch(a){}else a._node=new Audio,a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(f,a._loadFn,!1),a._node.src=c._src,a._node.preload="auto",a._node.volume=d,a._node.load();return a},reset:function(){var a=this,b=a._parent;return a._muted=b._muted,a._loop=b._loop,a._volume=b._volume,a._muted=b._muted,a._rate=b._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=Math.round(Date.now()*Math.random()),a},_errorListener:function(){var a=this;a._node.error&&4===a._node.error.code&&(h.noAudio=!0),a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorListener,!1)},_loadListener:function(){var a=this,b=a._parent;b._duration=Math.ceil(10*a._node.duration)/10,0===Object.keys(b._sprite).length&&(b._sprite={__default:[0,1e3*b._duration]}),b._loaded||(b._loaded=!0,b._emit("load")),b._autoplay&&b.play(),a._node.removeEventListener(f,a._loadFn,!1)}},c)var k={},l=function(a){var b=a._src;if(k[b])return a._duration=k[b].duration,void o(a);if(/^data:[^;]+;base64,/.test(b)){window.atob=window.atob||function(a){for(var b,c,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e=String(a).replace(/=+$/,""),f=0,g=0,h="";c=e.charAt(g++);~c&&(b=f%4?64*b+c:c,f++%4)?h+=String.fromCharCode(255&b>>(-2*f&6)):0)c=d.indexOf(c);return h};for(var c=atob(b.split(",")[1]),d=new Uint8Array(c.length),e=0;e<c.length;++e)d[e]=c.charCodeAt(e);n(d.buffer,a)}else{var f=new XMLHttpRequest;f.open("GET",b,!0),f.responseType="arraybuffer",f.onload=function(){n(f.response,a)},f.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete k[b],a.load())},m(f)}},m=function(a){try{a.send()}catch(b){a.onerror()}},n=function(a,c){b.decodeAudioData(a,function(a){a&&c._sounds.length>0&&(k[c._src]=a,o(c,a))},function(){c._emit("loaderror",null,"Decoding audio data failed.")})},o=function(a,b){b&&!a._duration&&(a._duration=b.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),a._loaded||(a._loaded=!0,a._emit("load")),a._autoplay&&a.play()};"function"==typeof define&&define.amd&&define([],function(){return{IcHowler:h,IcHowl:i}}),"undefined"!=typeof exports&&(exports.IcHowler=h,exports.IcHowl=i),"undefined"!=typeof window&&(window.IcHowlerGlobal=g,window.IcHowler=h,window.IcHowl=i,window.Sound=j)}();var RUN_TYPE={CORDOVA:"cordova",UNITY:"unity"},DpCont=DpCont||{contManager:null,isPiskoviste:!1,isEmbed:!1,isLocalTest:!1,runType:"",localTestServer:""},dpCont=null,integrativeContainer=null;DpCont.ContManager=function(a){this.appConfig=a,this.icSettings=this.appConfig.integrativeContainer,this.parseLocalTestSettings(),this.libsTotal=0,this.libsTotal=0,this.libsArr=[],this.posterComp=null,this.controlsComp=null,this.videoComp=null,this.screensComp=null,this.contestComp=null,this.focusComp=null,this.tempTag=null,this.preloaderComp=null,this.assetLoader=null,this.helper=null,this.features=null,this.compatibility=null,this.stats=null,this.dataPool={},this.imgPool={},this.sndPool={},this.sndMix=[],this.audio=null,this.signals=null,this.dpApp=null,this.fsCanvas=null,this.pixiVersion=0,this.windowSize={width:0,height:0},this.init()},DpCont.ContManager.prototype.init=function(){this._checkPiskoviste(),this._checkEmbed(),this._checkRunType(),DpCont.contManager=this,integrativeContainer=this,this.assetLoader=new DpCont.AssetLoader,this.stats=new DpCont.Stats,this.helper=new DpCont.Helper,this.features=new DpCont.FeaturesDetector,this.compatibility=new DpCont.Compatibility,this.sndMix=new DpCont.SoundManager,this.audio=new DeSnd.SoundManager,this.setBg(),this.controlsComp=new DpCont.ControlsComp,this.videoComp=new DpCont.VideoComp,this.screensComp=new DpCont.ScreensComp,this.features.isMobile||"true"!==String(this.icSettings.focusLostOverlay)||(this.focusComp=new DpCont.FocusComp),this.preloaderComp=new DpCont.PreloaderComp,this.initSignals(),this.initResizeEvents(),this.initFocusEvents(),"true"===String(this.icSettings.posterEnabled)?this.posterComp=new DpCont.PosterComp:this.initApp(),this.winSizeUpdate()},DpCont.ContManager.prototype._checkPiskoviste=function(){if(parent)try{parent.window.location.href.indexOf("piskoviste")!==-1&&(DpCont.isPiskoviste=!0)}catch(a){}},DpCont.ContManager.prototype._checkEmbed=function(){if(parent)try{parent.window.location.href}catch(a){DpCont.isEmbed=!0}},DpCont.ContManager.prototype._checkRunType=function(){this.appConfig.application.unityLoader&&this.appConfig.application.unityLoader.length>0&&(DpCont.runType=RUN_TYPE.UNITY)},DpCont.ContManager.prototype.setBg=function(){$("body").css({backgroundColor:String(this.icSettings.backgroundColor)}),"true"===String(this.icSettings.backgroundPatternEnabled)&&$("body").css({"background-image":"url('"+(DpCont.isLocalTest?".":this.icSettings.urnServiceUrl)+this.icSettings.backgroundPatternUrnPath+"')"})},DpCont.ContManager.prototype.initApp=function(){this.stats.trackEvent("JsApp","Started"),this.icSettings.appJsLibs&&DpCont.runType!==RUN_TYPE.CORDOVA&&(DpCont.isLocalTest,this.libsArr=this.icSettings.appJsLibs);for(var a=0;a<this.libsArr.length;a++)this.libsArr[a]=this.libsArr[a].replace(" ","");for(var b=this.libsArr.length-1;b>=0;b--)""===this.libsArr[b]&&this.libsArr.pop();this.libsArr.length>0?(this.libsTotal=this.libsArr.length,this.loadAppLib(this.libsTotal-1)):this.loadApp()},DpCont.ContManager.prototype.loadAppLib=function(a){var b=this,c=this.libsArr[a];0===c.indexOf("common")?c=DpCont.isLocalTest?c.replace("common","http://"+DpCont.localTestServer+".ceskatelevize.cz/cms/common"):c.replace("common","/cms/common"):DpCont.isLocalTest||(c=this.icSettings.urnServiceUrl+c),$.ajax({crossDomain:!0,dataType:"script",url:c,cache:!0,success:function(){b.libsTotal--,0===b.libsTotal?b.loadApp():b.loadAppLib(b.libsTotal-1)},error:function(){console.log("AppLib load error")}})},DpCont.ContManager.prototype.loadApp=function(){var a=this;"undefined"!=typeof PIXI&&(this.pixiVersion=PIXI.VERSION.replace("v","").split(".")[0]),$.ajax({crossDomain:!0,dataType:"script",cache:!0,url:this.icSettings.urnServiceUrl+(DpCont.runType===RUN_TYPE.UNITY?this.appConfig.application.unityLoader:this.icSettings.appJsUrnPath),success:function(){a.appLoaded()},error:function(){console.log("AppLoad error")}})},DpCont.ContManager.prototype.appLoaded=function(){DpCont.runType===RUN_TYPE.UNITY&&this.unitySetup()},DpCont.ContManager.prototype.unitySetup=function(){var a=this,b=!1;this.preloaderComp.showComp(),$("body").append('<div id="gameContainer" style="width: 1088px; height: 612px"></div>'),this.unityApp=UnityLoader.instantiate("gameContainer",this.icSettings.urnServiceUrl+this.appConfig.application.unityConfig,{onProgress:function(c,d){b||(a.preloaderComp.updateProgress(d),d>=1&&(b=!0,a.unityResize()))}})},DpCont.ContManager.prototype.unityAppReady=function(){this.unityStarted||(this.preloaderComp.hideComp(),this.unityStarted=!0)},DpCont.ContManager.prototype.getToken=function(){return this.appConfig.flashvars.token},DpCont.ContManager.prototype.getTargetServer=function(){return this.appConfig.application.deploymentType},DpCont.ContManager.prototype.getAppConfig=function(){return JSON.stringify(this.appConfig)},DpCont.ContManager.prototype.initFocusEvents=function(){var a=this;$(window).focusout(function(){a.signals.mainCall.dispatch("FocusOut")}),$(window).focusin(function(){a.signals.mainCall.dispatch("FocusIn")}),this.disableKeys(window);try{parent.window&&this.disableKeys(parent.window)}catch(a){}},DpCont.ContManager.prototype.disableKeys=function(a){var b=this;a.onkeydown=function(a){if(b.tempTag=a.target.tagName,"TEXTAREA"!==b.tempTag&&"INPUT"!==b.tempTag)switch(a.keyCode){case 32:case 37:case 38:case 39:case 40:return a.preventDefault(),!1}}},DpCont.ContManager.prototype.initResizeEvents=function(){var a=this;$(window).resize(function(){a.winSizeUpdate()}),$(window).on("orientationchange",function(b){a.winSizeUpdate()})},DpCont.ContManager.prototype.winSizeUpdate=function(){var a=this;this.windowSize.width=window.innerWidth?window.innerWidth:$(window).width(),this.windowSize.height=window.innerHeight?window.innerHeight:$(window).height(),this.signals.resizeCall.dispatch(this.windowSize.width,this.windowSize.height),DpCont.runType===RUN_TYPE.UNITY?(this.unityResize(),setInterval(function(){a.unityResize()},1e3)):((Modernizr.touch||DpCont.contManager.controlsComp.inFullscreen||DpCont.isPiskoviste)&&"true"===String(DpCont.contManager.icSettings.autoPixiScaleCentering)&&this.tryCenterCanvas(!0),DpCont.runType===RUN_TYPE.CORDOVA&&"true"===String(DpCont.contManager.icSettings.autoPixiScaleCentering)?this._scaleCanvas(!0):DpCont.contManager.features.isAndroid&&"true"===String(DpCont.contManager.icSettings.autoPixiScaleCentering)&&this._tryMobileFill()),this.contestComp&&this.contestComp.resizeUpdate(),this.focusComp&&this.focusComp.resizeUpdate()},DpCont.ContManager.prototype.unityResize=function(){var a=$("#gameContainer"),b=$("canvas").get(0);a&&a.css({position:"absolute",left:Math.round(($(window).width()-DpCont.contManager.icSettings.width)/2),top:Math.round(($(window).height()-DpCont.contManager.icSettings.height)/2),width:DpCont.contManager.icSettings.width,height:DpCont.contManager.icSettings.height}),b&&(b.width=DpCont.contManager.icSettings.width,b.height=DpCont.contManager.icSettings.height)},DpCont.ContManager.prototype.tryCenterCanvas=function(a){DpCont.runType!==RUN_TYPE.CORDOVA&&(this.pixiVersion>0&&(this.fsCanvas=$("canvas")),this.fsCanvas&&(a?this.fsCanvas.css({position:"absolute",left:Math.round(($(window).width()-DpCont.contManager.icSettings.width)/2),top:Math.round(($(window).height()-DpCont.contManager.icSettings.height)/2)}):this.fsCanvas.css({position:"relative",top:0,left:0})))},DpCont.ContManager.prototype._tryMobileFill=function(){var a=this;DpCont.contManager.controlsComp.inFullscreen&&this.fsCanvas?(window.setTimeout(function(){a.resetScale()},500),window.setTimeout(function(){a._scaleCanvas(!1)},1500)):a.resetScale()},DpCont.ContManager.prototype.resetScale=function(){this.fsCanvas&&this.fsCanvas.css({transform:"scale(1.0,1.0)"})},DpCont.ContManager.prototype._scaleCanvas=function(a){this.fsCanvas=$("canvas");var b=Math.max(document.documentElement.clientWidth,window.innerWidth||0),c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),d=b/1088,e=c/612,f=0;f=d<e?d:e,a?this.fsCanvas.css({"transform-origin":"0% 0%",transform:"scale("+f+","+f+")",position:"absolute",left:Math.round((b-1088*f)/2),top:Math.round((c-612*f)/2)}):this.fsCanvas.css({transform:"scale("+f+","+f+")"})},DpCont.ContManager.prototype.initSignals=function(){this.signals={mainCall:new signals.Signal,internalCall:new signals.Signal,resizeCall:new signals.Signal},this.signals.mainCall.add(this.mainCallFc,this),this.signals.internalCall.add(this.internalCallFc,this)},DpCont.ContManager.prototype.mainCallFc=function(a,b){switch(a){case"CloseClick":case"AssetsLoadingDone":case"FullscreenEnter":case"FullscreenExit":case"SoundOn":case"SoundOff":case"PreloaderUpdate":case"ContestFormClosed":break;case"FocusIn":this.focusComp&&this.focusComp.showOver(!1);break;case"FocusOut":this.focusComp&&this.focusComp.showOver(!0);break;default:console.log("Undefined Main Signal - "+a)}},DpCont.ContManager.prototype.internalCallFc=function(a,b){switch(a){case"CloseApp":"true"===String(this.icSettings.defaultCloseFunction)?"true"===String(this.icSettings.closeConfirm)?this.screensComp.showScreen(DpCont.ScreensComp.SCRN_CLOSE_CONFIRM):DpCont.DpConnect.closeApp():this.signals.mainCall.dispatch("CloseClick");break;default:console.log("Undefined Internal Signal - "+a)}},DpCont.ContManager.prototype.showContestForm=function(a){return this.helper.isContestActive()?(this.contestComp||(this.contestComp=new DpCont.ContestComp),this.contestComp.showForm(a),!0):(console.log("Contest inactive"),!1)},DpCont.ContManager.prototype.isContestActive=function(){return this.helper.isContestActive()},DpCont.ContManager.prototype.isContestFormVisible=function(){return!(!this.contestComp||!this.contestComp.isVisible)},DpCont.ContManager.prototype.playVideo=function(a,b,c,d){this.videoComp.playVideo(a,b,c,d)},DpCont.ContManager.prototype.swapApp=function(a){window.location.href=a+"?posterEnabled=false"},DpCont.ContManager.prototype.parseLocalTestSettings=function(){void 0===this.icSettings.closeConfirm&&(this.icSettings.closeConfirm=!1),void 0===this.icSettings.defaultCloseFunction&&(this.icSettings.defaultCloseFunction=!0),void 0===this.icSettings.closeButtonEnabled&&(this.icSettings.closeButtonEnabled=!0),void 0===this.icSettings.closeAppButtonEnabled&&(this.icSettings.closeAppButtonEnabled=!0),void 0===this.icSettings.fullscreenButtonEnabled&&(this.icSettings.fullscreenButtonEnabled=!0),void 0===this.icSettings.soundButtonEnabled&&(this.icSettings.soundButtonEnabled=!0),void 0===this.icSettings.menuButtonEnabled&&(this.icSettings.menuButtonEnabled=!1),void 0===this.icSettings.menuEnabled&&(this.icSettings.menuEnabled=!0),void 0===this.icSettings.autoPixiFullscreenCentering&&(this.icSettings.autoPixiFullscreenCentering=!0),void 0===this.icSettings.autoPixiScaleCentering&&(this.icSettings.autoPixiScaleCentering=!0),
void 0===this.icSettings.autoHowlerMute&&(this.icSettings.autoHowlerMute=!0)},DpCont.Compatibility=function(){},DpCont.DpConnect={},DpCont.DpConnect.closeApp=function(){DpApp.closeApp()},DpCont.DpTexts={},DpCont.DpTexts.txCloseConfirm={title:"Opravdu chcete aplikaci zavřít?",btnLblYes:"Ano",btnLblNo:"Ne"},DpCont.FeaturesDetector=function(){this.isTouch=!1,this.isIOS=!1,this.isAndroid=!1,this.isWinMobile=!1,this.isMobile=!1,this.safari=!1,this._init()},DpCont.FeaturesDetector.prototype._init=function(){this.isTouch=Modernizr.touch,this.isIOS=/iPad|iPhone|iPod/.test(navigator.platform),this.isAndroid=navigator.userAgent.toLowerCase().indexOf("android")>-1,(navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/iemobile/i)||navigator.userAgent.match(/WPDesktop/i))&&(this.isWinMobile=!0),navigator.userAgent.toLowerCase().indexOf("safari")!=-1&&navigator.userAgent.toLowerCase().indexOf("chrome")==-1&&(this.safari=!0),(this.isAndroid||this.isIOS||this.isWinMobile)&&(this.isMobile=!0)},DpCont.Helper=function(){this.serverDate=null,this.minDate=null,this.maxDate=null,this.contestActive=!1,DpCont.isLocalTest||this.getServerDate()},DpCont.Helper.prototype.isContestActive=function(){return DpCont.isLocalTest?this.contestActive=!0:(this.contestActive=!1,DpCont.contManager.appConfig.contest&&"NONE"!==String(DpCont.contManager.appConfig.contest.contestType)&&(this.parseContestDates(),this.serverDate&&this.serverDate>=this.minDate&&this.serverDate<=this.maxDate&&(this.contestActive=!0))),this.contestActive},DpCont.Helper.prototype.parseContestDates=function(){this.minDate||(this.minDate=this.parseContestDateSting(DpCont.contManager.appConfig.contest.contestStart).getTime(),this.maxDate=this.parseContestDateSting(DpCont.contManager.appConfig.contest.contestEnd).getTime())},DpCont.Helper.prototype.parseContestDateSting=function(a){var b=[1980,1,1,0,0,0,0];return 16===a.length?(b[0]=Number(a.slice(0,4)),b[1]=Number(a.slice(5,7))-1,b[2]=Number(a.slice(8,10)),b[3]=Number(a.slice(11,13)),b[4]=Number(a.slice(14,16))):console.log("Alert: Wrong contest date format"),new Date(b[0],b[1],b[2],b[3],b[4],b[5],b[6])},DpCont.Helper.prototype.getServerDate=function(){AmfConnector.getDate(this.getServerDateCallback)},DpCont.Helper.prototype.getServerDateCallback=function(a){"OK"===a.status&&(DpCont.contManager.helper.serverDate=a.date.getTime())},DpCont.Stats=function(){this._deprecateStat=!0,this.statsBlocked=!1,this._init()},DpCont.Stats.prototype._init=function(){this._initGemius(),this._initGoogle()},DpCont.Stats.prototype._initGemius=function(){if(!DpCont.isLocalTest){var a=[{name:"NAZEV",value:DpCont.contManager.appConfig.application.slug},{name:"TYP",value:DpCont.contManager.appConfig.integrativeContainer.appIcon},{name:"ZDROJ",value:"DECKO"},{name:"KATEGORIE",value:"081"},{name:"CIL",value:"DECKO"},{name:"GA",value:"hry"}];"undefined"!=typeof gemiusStream&&(gemiusStream.newStream("player_js","DECKO",-1,a,[],"oqg65j8RZ_pKaxqti3_oDpRp38O6dqLLfyNTXGHotTn.67","//scz.hit.gemius.pl",[]),gemiusStream.event("player_js","DECKO",0,"playing"))}},DpCont.Stats.prototype._initGoogle=function(){DpCont.isLocalTest||(this.statsBlocked="undefined"==typeof dpAnalytics,this.statsBlocked||(dpAnalytics.pageName="/game-js/"+DpCont.contManager.appConfig.application.slug,dpAnalytics.init()))},DpCont.Stats.prototype.trackEvent=function(a,b){DpCont.isLocalTest||this.statsBlocked||dpAnalytics.trackEvent(DpCont.contManager.appConfig.application.slug,a,b,"containerInteraction")},DpCont.Stats.prototype.trackSoundEvent=function(a){var b=this;this._deprecateStat&&(this._deprecateStat=!1,this.statsBlocked||dpAnalytics.trackEvent("ContSndDeprecate",DpCont.contManager.appConfig.application.slug,a,"containerInteraction"),setTimeout(function(){b._deprecateStat=!0},3e4))},DpCont.SoundManager=function(){this.sndMuted=!1,this._cordovaMuted=!1,this._tryCordovaSetup()},DpCont.SoundManager.prototype._tryCordovaSetup=function(){var a=this;"cordova"===DpCont.runType&&DpCont.contManager.features.isAndroid&&document.addEventListener("visibilitychange",function(){DpCont.contManager.audio&&(document.hidden?DpCont.contManager.audio.mute||(a._cordovaMuted=!0,DpCont.contManager.audio.mute=!0):a._cordovaMuted&&(a._cordovaMuted=!1,DpCont.contManager.audio.mute=!1))},!1)},DpCont.SoundManager.prototype.playSfx=function(a){return DpCont.contManager.sndPool[a].play(),DpCont.contManager.stats.trackSoundEvent("play-sfx"),DpCont.contManager.sndPool[a]},DpCont.SoundManager.prototype.playMusic=function(a){DpCont.contManager.sndPool[a].loop(!0),DpCont.contManager.sndPool[a].play()},DpCont.SoundManager.prototype.muteSwitch=function(){return this.sndMuted=!this.sndMuted,this.sndMuted?(IcHowler.mute(!0),DpCont.contManager.audio.mute=!0,DpCont.contManager.signals.mainCall.dispatch("SoundOff")):(IcHowler.mute(!1),DpCont.contManager.audio.mute=!1,DpCont.contManager.signals.mainCall.dispatch("SoundOn")),DpCont.contManager.icSettings.autoHowlerMute&&"undefined"!=typeof Howler&&(this.sndMuted?void 0!==Howler.unmute?Howler.mute():Howler.mute(!0):void 0!==Howler.unmute?Howler.unmute():Howler.mute(!1)),DpCont.runType===RUN_TYPE.UNITY&&DpCont.contManager.unityApp&&DpCont.contManager.unityStarted&&DpCont.contManager.unityApp.SendMessage("Decko","SoundMute",this.sndMuted.toString()),this.sndMuted},DpCont.AssetLoader=function(){this.stageCurrent=1,this.stageTotal=1,this.itemsTotal=0,this.itemsLoaded=0,this.dataLoader=null,this.imgLoader=null,this.jsLoader=null,this.sndLoader=null,this.fontsLoader=null,this.styleLoader=null,this.jsPool=[],this.dataPool=[],this.imgPool=[],this.sndPool=[],this.fontsPool=[],this.stylePool=[],this.tempFileType="",this.init()},DpCont.AssetLoader.prototype.init=function(){this.dataLoader=new DpCont.DataLoader,this.imgLoader=new DpCont.ImgLoader,this.jsLoader=new DpCont.JsLoader,this.sndLoader=new DpCont.SndLoader,this.fontsLoader=new DpCont.FontLoader,this.styleLoader=new DpCont.StyleLoader,this.dataLoader.loadSignal.add(this.loadSignalCall,this),this.imgLoader.loadSignal.add(this.loadSignalCall,this),this.jsLoader.loadSignal.add(this.loadSignalCall,this),this.sndLoader.loadSignal.add(this.loadSignalCall,this),this.fontsLoader.loadSignal.add(this.loadSignalCall,this),this.styleLoader.loadSignal.add(this.loadSignalCall,this)},DpCont.AssetLoader.prototype.loadSignalCall=function(a){switch(a){case"fileLoaded":this.fileLoadUpdate();break;case"JsComplete":this.dataPoolLoad();break;case"DataComplete":this.fontsPoolLoad();break;case"FontsComplete":this.sndPoolLoad();break;case"SndComplete":this.imgPoolLoad();break;case"ImgComplete":this.stylePoolLoad();break;case"StyleComplete":this.assetsLoadingDone();break;default:console.log("Undefined loadSignalCall - "+a)}},DpCont.AssetLoader.prototype.loadAssets=function(a,b,c,d){this.stageCurrent=void 0!==c?c:1,this.stageTotal=void 0!==d?d:1,void 0===b&&(b=!0),b&&DpCont.contManager.preloaderComp.showComp(),this.itemsTotal=a.length,this.itemsLoaded=0;for(var e=0;e<this.itemsTotal;e++)switch(this.tempFileType=a[e].src.split("?").shift().split(".").pop().toLowerCase(),this.tempFileType){case"xml":"bmFont"===a[e].type?this.fontsPool.push(a[e]):this.dataPool.push(a[e]);break;case"css":"webFonts"===a[e].type?this.fontsPool.push(a[e]):this.stylePool.push(a[e]);break;case"json":"pixiSheet"===a[e].type?this.imgPool.push(a[e]):this.dataPool.push(a[e]);break;case"js":this.jsPool.push(a[e]);break;case"mp3":this.sndPool.push(a[e]);break;case"png":case"jpg":this.imgPool.push(a[e]);break;default:console.log("Undefined AssetLoader file type: "+this.tempFileType)}this.jsPoolLoad()},DpCont.AssetLoader.prototype.jsPoolLoad=function(){this.jsPool.length>0?this.jsLoader.loadFiles(this.jsPool):this.dataPoolLoad()},DpCont.AssetLoader.prototype.dataPoolLoad=function(){this.dataPool.length>0?this.dataLoader.loadFiles(this.dataPool):this.fontsPoolLoad()},DpCont.AssetLoader.prototype.fontsPoolLoad=function(){this.fontsPool.length>0?this.fontsLoader.loadFiles(this.fontsPool):this.sndPoolLoad()},DpCont.AssetLoader.prototype.sndPoolLoad=function(){this.sndPool.length>0?this.sndLoader.loadFiles(this.sndPool):this.imgPoolLoad()},DpCont.AssetLoader.prototype.imgPoolLoad=function(){this.imgPool.length>0?this.imgLoader.loadFiles(this.imgPool):this.stylePoolLoad()},DpCont.AssetLoader.prototype.stylePoolLoad=function(){this.stylePool.length>0?this.styleLoader.loadFiles(this.stylePool):this.assetsLoadingDone()},DpCont.AssetLoader.prototype.fileLoadUpdate=function(){this.itemsLoaded++,DpCont.contManager.preloaderComp.updateProgress(1/this.stageTotal*(this.stageCurrent-1)+1/this.stageTotal*(this.itemsLoaded/this.itemsTotal))},DpCont.AssetLoader.prototype.assetsLoadingDone=function(){this.stageCurrent==this.stageTotal&&DpCont.contManager.preloaderComp.hideComp(!0),DpCont.contManager.signals.mainCall.dispatch("AssetsLoadingDone")},DpCont.BaseLoader=function(){this.loadSignal=null,this.init()},DpCont.BaseLoader.prototype.init=function(){this.loadSignal=new signals.Signal},DpCont.BaseLoader.prototype.loadFiles=function(a){},DpCont.DataLoader=function(){DpCont.BaseLoader.call(this),this.filePath="",this.actualFile=null,this.filesPool=[]},DpCont.DataLoader.prototype=Object.create(DpCont.BaseLoader.prototype),DpCont.DataLoader.prototype.constructor=DpCont.DataLoader,DpCont.DataLoader.prototype.loadFiles=function(a){this.filesPool=a,this.tryLoadNext()},DpCont.DataLoader.prototype.tryLoadNext=function(){var a=this;this.filesPool.length>0?(this.actualFile=this.filesPool.pop(),this.actualFile.base?this.filePath=this.actualFile.base+this.actualFile.src:this.filePath=DpCont.contManager.icSettings.urnServiceUrl+this.actualFile.src,$.get(this.filePath).done(function(b){DpCont.contManager.dataPool[a.actualFile.id]=b,a.loadSignal.dispatch("fileLoaded"),a.tryLoadNext()}).fail(function(a,b,c){console.log("Data file load error: ",c)})):this.loadSignal.dispatch("DataComplete")},DpCont.FontLoader=function(){DpCont.BaseLoader.call(this),this.fontsTotal=0,this.fontsLoaded=0,this.pixiLoader=null,this.webFontData=null,this.bmFontArr=[]},DpCont.FontLoader.prototype=Object.create(DpCont.BaseLoader.prototype),DpCont.FontLoader.prototype.constructor=DpCont.FontLoader,DpCont.FontLoader.prototype.loadFiles=function(a){this.fontsTotal=0,this.fontsLoaded=0,this.webFontData=null,this.bmFontArr=[];for(var b=0;b<a.length;b++)"bmFont"===a[b].type?(this.fontsTotal++,this.bmFontArr.push(DpCont.contManager.icSettings.urnServiceUrl+a[b].src)):"webFonts"===a[b].type&&(this.webFontData||(this.fontsTotal++,this.webFontData=a[b]));this.bmFontArr.length>0&&this.loadBmFonts(),this.webFontData&&this.loadWebFont()},DpCont.FontLoader.prototype.loadWebFont=function(){var a=this;WebFont.load({custom:{families:this.webFontData.names,urls:[DpCont.contManager.icSettings.urnServiceUrl+this.webFontData.src]},active:function(){a.fontLoaded()},inactive:function(){console.log("WebFont loading fail:",a.webFontData.names)}})},DpCont.FontLoader.prototype.loadBmFonts=function(){var a=this;if(DpCont.contManager.pixiVersion>0)if(DpCont.contManager.pixiVersion<3)this.pixiLoader=new PIXI.AssetLoader(this.bmFontArr,!1),this.pixiLoader.on("onProgress",function(b){a.fontLoaded()}),this.pixiLoader.load();else{this.pixiLoader=new PIXI.loaders.Loader;for(var b=0;b<this.bmFontArr.length;b++)this.pixiLoader.add("pFnt"+b,this.bmFontArr[b]);this.pixiLoader.on("complete",function(){a.fontLoaded()}),this.pixiLoader.load()}},DpCont.FontLoader.prototype.fontLoaded=function(){this.fontsLoaded++,this.loadSignal.dispatch("fileLoaded"),this.fontsLoaded===this.fontsTotal&&this.loadSignal.dispatch("FontsComplete")},DpCont.ImgLoader=function(){DpCont.BaseLoader.call(this),this.pixiLoader=null,this.fileUrlPool=[]},DpCont.ImgLoader.prototype=Object.create(DpCont.BaseLoader.prototype),DpCont.ImgLoader.prototype.constructor=DpCont.ImgLoader,DpCont.ImgLoader.prototype.loadFiles=function(a){var b=this;if(DpCont.contManager.pixiVersion>0){this.fileUrlPool=[];for(var c=0;c<a.length;c++){var d="";d=a[c].base?a[c].base+a[c].src:DpCont.contManager.icSettings.urnServiceUrl+a[c].src,this.fileUrlPool.push(d),DpCont.contManager.imgPool[a[c].id]=d}if(DpCont.contManager.pixiVersion<3)this.pixiLoader=new PIXI.AssetLoader(this.fileUrlPool,!1),this.pixiLoader.on("onComplete",function(a){b.loadSignal.dispatch("ImgComplete")}),this.pixiLoader.on("onProgress",function(a){b.loadSignal.dispatch("fileLoaded")}),this.pixiLoader.load();else{this.pixiLoader=new PIXI.loaders.Loader;for(var e=0;e<this.fileUrlPool.length;e++)this.pixiLoader.add("pImg"+e,this.fileUrlPool[e]);this.pixiLoader.on("complete",function(){b.loadSignal.dispatch("ImgComplete")}),this.pixiLoader.on("progress",function(){b.loadSignal.dispatch("fileLoaded")}),this.pixiLoader.load()}}else{for(var c=0;c<a.length;c++){var d=DpCont.contManager.icSettings.urnServiceUrl+a[c].src;$("<img />").attr("src",d),DpCont.contManager.imgPool[a[c].id]=d,b.loadSignal.dispatch("fileLoaded")}b.loadSignal.dispatch("ImgComplete")}},DpCont.JsLoader=function(){DpCont.BaseLoader.call(this),this.actualFile=null,this.filesPool=[]},DpCont.JsLoader.prototype=Object.create(DpCont.BaseLoader.prototype),DpCont.JsLoader.prototype.constructor=DpCont.JsLoader,DpCont.JsLoader.prototype.loadFiles=function(a){this.filesPool=a,this.tryLoadNext()},DpCont.JsLoader.prototype.tryLoadNext=function(){var a=this;this.filesPool.length>0?(this.actualFile=this.filesPool.pop(),this.actualFile.src.indexOf("[common]")!=-1?DpCont.isLocalTest?this.actualFile.src=this.actualFile.src.replace("[common]","http://"+DpCont.localTestServer+".ceskatelevize.cz/cms/common"):this.actualFile.src=this.actualFile.src.replace("[common]","/cms/common"):DpCont.isLocalTest||(this.actualFile.src=DpCont.contManager.icSettings.urnServiceUrl+this.actualFile.src),$.ajax({crossDomain:!0,dataType:"script",url:this.actualFile.src,cache:!0,success:function(){a.loadSignal.dispatch("fileLoaded"),a.tryLoadNext()},error:function(){console.log("JS file load error: ",a.actualFile.src,exception)}})):this.loadSignal.dispatch("JsComplete")},DpCont.SndLoader=function(){DpCont.BaseLoader.call(this),this.sndsTotal=0,this.sndsLoaded=0,this.tempPath=""},DpCont.SndLoader.prototype=Object.create(DpCont.BaseLoader.prototype),DpCont.SndLoader.prototype.constructor=DpCont.SndLoader,DpCont.SndLoader.prototype.loadFiles=function(a){var b=this;this.sndsTotal=a.length,this.sndsLoaded=0;for(var c=0;c<this.sndsTotal;c++)this.tempPath=DpCont.contManager.icSettings.urnServiceUrl+a[c].src.split("?").shift().toLowerCase().replace("ogg","").replace("mp3",""),DpCont.contManager.sndPool[a[c].id]=new IcHowl({src:[this.tempPath+"ogg",this.tempPath+"mp3"],onload:function(){b.sndLoaded()}})},DpCont.SndLoader.prototype.sndLoaded=function(){this.loadSignal.dispatch("fileLoaded"),++this.sndsLoaded===this.sndsTotal&&this.loadSignal.dispatch("SndComplete")},DpCont.StyleLoader=function(){DpCont.BaseLoader.call(this),this.actualFile=null,this.filesPool=[]},DpCont.StyleLoader.prototype=Object.create(DpCont.BaseLoader.prototype),DpCont.StyleLoader.prototype.constructor=DpCont.StyleLoader,DpCont.StyleLoader.prototype.loadFiles=function(a){this.filesPool=a,this.tryLoadNext()},DpCont.StyleLoader.prototype.tryLoadNext=function(){this.filesPool.length>0?(this.actualFile=this.filesPool.pop(),$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href",DpCont.contManager.icSettings.urnServiceUrl+this.actualFile.src+"?id="+String($.now()))),this.loadSignal.dispatch("fileLoaded"),this.tryLoadNext()):this.loadSignal.dispatch("StyleComplete")},DpCont.ScreenBase=function(){this.scrnMain=null,this.bgRect=null,this.scrnTitle=null},DpCont.ScreenBase.prototype.screenSetup=function(a){this.scrnMain=$("<div class='dpContScrn'></div>"),$("body").append(this.scrnMain),this.scrnMain.css({position:"absolute",width:"100%",height:"100%","background-color":"rgba(0,0,0,0.4)","z-index":1005}),this.bgRect=$("<div class='dpContScrnRect'></div>"),this.scrnMain.append(this.bgRect),this.bgRect.css({position:"absolute",width:"400px",height:"300px",top:"50%",left:"50%","margin-left":"-200px","margin-top":"-150px","background-color":"#FFFFFF"}),this.scrnTitle=$("<div class='dpContScrnTitle'>"+a.title+"</div>"),this.bgRect.append(this.scrnTitle);for(var b=0;b<a.btns.length;b++){new DpCont.ScreenButton(this.bgRect,a.btns[b].label,a.btns[b].callFc,a.btns[b].scope)}},DpCont.ScreenButton=function(a,b,c,d){this.parentScrn=a,this.labelTxt=b,this.callFc=c,this.callScope=d,this.btnDiv=null,this.init()},DpCont.ScreenButton.prototype.init=function(){this.btnDiv=$("<div id='scrnBtn'>"+this.labelTxt+"</div>"),this.parentScrn.append(this.btnDiv),this.btnDiv.css({"background-color":"#c6bee2",cursor:"pointer",padding:"10px",margin:"10px"}),this.btnDiv.click($.proxy(function(){this.callFc(this.callScope)},this))},DpCont.ScreenCloseConfirm=function(){DpCont.ScreenBase.call(this),this.scrnSettings={title:DpCont.DpTexts.txCloseConfirm.title,btns:[{label:DpCont.DpTexts.txCloseConfirm.btnLblYes,callFc:this.clickYes,scope:this},{label:DpCont.DpTexts.txCloseConfirm.btnLblNo,callFc:this.clickNo,scope:this}]},this.init()},DpCont.ScreenCloseConfirm.prototype=Object.create(DpCont.ScreenBase.prototype),DpCont.ScreenCloseConfirm.prototype.constructor=DpCont.ScreenCloseConfirm,DpCont.ScreenCloseConfirm.prototype.init=function(){this.screenSetup(this.scrnSettings)},DpCont.ScreenCloseConfirm.prototype.clickYes=function(a){DpCont.DpConnect.closeApp()},DpCont.ScreenCloseConfirm.prototype.clickNo=function(a){a.scrnMain.remove()},DpCont.ScreenMenu=function(){DpCont.ScreenBase.call(this)},DpCont.ScreenMenu.prototype=Object.create(DpCont.ScreenBase.prototype),DpCont.ScreenMenu.prototype.constructor=DpCont.ScreenMenu,DpCont.ScreenMenu.prototype.loadFiles=function(){},DpCont.ContestBg=function(a,b){this.mParent=a,this.bgName=b,this.bgDiv=null,this.init()},DpCont.ContestBg.prototype.init=function(){this.bgDiv=$("<div></div>"),this.bgDiv.css({position:"absolute",background:"transparent url("+DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+this.bgName+".png) no-repeat scroll left top",width:1088,height:612}),this.mParent.append(this.bgDiv)},DpCont.ContestBtn=function(a,b,c,d,e,f){this.mParent=a,this.cContext=c,this.pX=e,this.pY=f,this.bName=b,this.mCallback=d,this.mainDiv=null,this.normalStyle="",this.hoverStyle="",this.init()},DpCont.ContestBtn.prototype.init=function(){var a=this;this.normalStyle="transparent url("+DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+this.bName+".png) no-repeat scroll left top",this.hoverStyle="transparent url("+DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+this.bName+"Over.png) no-repeat scroll left top",this.mainDiv=$("<div></div>"),this.mainDiv.css({position:"absolute",cursor:"pointer",top:this.pY,left:this.pX,background:this.normalStyle,width:200,height:124}),this.mParent.append(this.mainDiv),Modernizr.touch?this.mainDiv.on("touchend",function(b){a.mCallback(a.cContext)}):(this.mainDiv.hover(function(){a.mainDiv.css({background:a.hoverStyle})},function(){a.mainDiv.css({background:a.normalStyle})}),this.mainDiv.click(function(){a.mCallback(a.cContext)}))},DpCont.ContestBtn.prototype.resetBtn=function(){this.mainDiv.css({background:this.normalStyle})},DpCont.ContestErrorMsg=function(a,b,c,d){this.mParent=a,this.pX=b,this.pY=c,this.errTx=d,this.isVisible=!1,this.errorLabel=null,this.init()},DpCont.ContestErrorMsg.prototype.init=function(){this.errorLabel=$("<div>"+this.errTx+"</div>"),this.errorLabel.css({position:"absolute",visibility:"hidden",color:"#FFFFFF","font-family":"Verdana, Geneva, sans-serif","background-color":"#c51616",padding:"10px","font-size":"12px","border-radius":"10px",width:180,top:this.pY,right:this.pX}),this.mParent.append(this.errorLabel);var a=$("<div></div>");a.css({position:"absolute","border-bottom":"8px solid transparent","border-top":"8px solid transparent","border-right":"8px solid #c51616",top:"50%",left:-8,"margin-top":-8}),this.errorLabel.prepend(a)},DpCont.ContestErrorMsg.prototype.showMessage=function(a){a?this.isVisible||(this.isVisible=!0,this.errorLabel.css({visibility:"visible"})):this.isVisible&&(this.isVisible=!1,this.errorLabel.css({visibility:"hidden"}))},DpCont.ContestInput=function(a,b,c,d,e){this.inType=a,this.mParent=b,this.initTxt=c,this.pX=d,this.pY=e,this.errorTx="",this.testEmail=/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i,this.mainDiv=null,this.inputDiv=null,this.errorLabel=null,this.styleNormal=null,this.init()},DpCont.ContestInput.prototype.init=function(){var a=this;this.styleNormal={border:"none",width:394,height:56},this.mainDiv=$("<div></div>"),this.mainDiv.css({position:"absolute",width:420,top:this.pY,left:this.pX}),this.mParent.append(this.mainDiv),0==this.inType?(this.inputDiv=$("<input type='text' name='nick' maxlength='20' value='"+this.initTxt+"'>"),this.errorTx="Přezdívka nesmí být prázdná!"):(this.inputDiv=$("<input type='email' name='emailAddress' value='"+this.initTxt+"'>"),this.errorTx="Nesprávný formát e-mailu!"),this.inputDiv.css({color:"black","font-family":"Verdana, Geneva, sans-serif","font-size":"20px","background-color":"transparent","padding-left":"20px"}),this.inputDiv.css(this.styleNormal),this.mainDiv.append(this.inputDiv),this.inputDiv.on("change keyup paste",function(){a.errorLabel.showMessage(!1)}),this.errorLabel=new DpCont.ContestErrorMsg(this.mainDiv,-220,11,this.errorTx)},DpCont.ContestInput.prototype.validateInput=function(){var a=!0;return 0==this.inType?0==this.inputDiv.val().length&&(a=!1,this.errorLabel.showMessage(!0)):(console.log(this.testEmail.test(this.inputDiv.val())),this.testEmail.test(this.inputDiv.val())||(a=!1,this.errorLabel.showMessage(!0))),a},DpCont.ContestInput.prototype.getValue=function(){return this.inputDiv.val()},DpCont.ContestRulesCheckbox=function(a,b,c){this.mParent=a,this.pX=b,this.pY=c,this.checked=!1,this.checkUp="",this.checkDn="",this.mainDiv=null,this.checkImg=null,this.errorLabel=null,this.init()},DpCont.ContestRulesCheckbox.prototype.init=function(){var a=this;this.mainDiv=$("<div> souhlasím s <a href='"+DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+"pravidla/pravidla-souteze.pdf' class='rules-link' target='_blank'>pravidly soutěže</a></div>"),this.mainDiv.css({position:"absolute",color:"#FFFFFF","font-family":"Verdana, Geneva, sans-serif","font-size":"18px",width:480,top:this.pY,left:this.pX}),this.mParent.append(this.mainDiv),this.checkUp=DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+"CheckUp.png",this.checkDn=DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+"CheckDn.png",this.checkImg=$("<img id='rules-check' src='"+this.checkUp+"' alt='Check'>"),this.checkImg.css({cursor:"pointer","margin-bottom":-9,width:30,height:30}),this.mainDiv.prepend(this.checkImg),Modernizr.touch?this.checkImg.on("touchend",function(b){a.checkClick()}):this.checkImg.click(function(){a.checkClick()}),this.errorLabel=new DpCont.ContestErrorMsg(this.mainDiv,-55,-12,"Pro účast v soutěži je třeba souhlasit s pravidly!")},DpCont.ContestRulesCheckbox.prototype.checkClick=function(){this.checked?(this.checked=!1,this.checkImg.attr("src",this.checkUp)):(this.checked=!0,this.checkImg.attr("src",this.checkDn)),this.errorLabel.showMessage(!1)},DpCont.ContestRulesCheckbox.prototype.validateInput=function(){return this.checked||this.errorLabel.showMessage(!0),this.checked},DpCont.VideoIVys=function(a,b,c,d,e){this.pCont=a,this.vidId=b,this._settings=c,this.completeEvent=d,this.completeTarget=e,this.isActive=!0,this.acSrc="",this.checkInitLoop=null,this.isComplete=!1,this.BASE_W=1088,this.BASE_H=612,this._sX=0,this._sY=0,this._sM=0,this._vidW=0,this._vidH=0,this.vidFrame=null,this.init()},DpCont.VideoIVys.prototype.init=function(){var a=this;this._checkVideoCookies(),this.acSrc="/ivysilani/embed/iFramePlayer.php?bonus="+this.vidId+"&width="+this.BASE_W+"&origin=decko"+this._showControls()+"&hash="+DpCont.contManager.icSettings.iframePlayerHash,DpCont.isLocalTest&&(this.acSrc="http://"+DpCont.localTestServer+".ceskatelevize.cz"+this.acSrc),this.vidFrame=$("<iframe class='vid-frame' width='"+this.BASE_W+"' height='"+this.BASE_H+"' marginwidth='0' marginheight='0' frameborder='0' scrolling='no' src='"+this.acSrc+"'></iframe>"),this.vidFrame.css({position:"absolute","background-color":"#000000"}),this.pCont.append(this.vidFrame),this.vidFrame.load(function(){a.isActive&&a.videoSet()}),this._resizeUpdate(),DpCont.contManager.signals.resizeCall.add(this._resizeUpdate,this)},DpCont.VideoIVys.prototype._showControls=function(){return DpCont.contManager.features.isMobile||this._settings.showControls?"":"&allControlsHidden=1"},DpCont.VideoIVys.prototype.videoSet=function(){var a=this;this.checkInitLoop=setInterval(function(){a.initCheck()},1e3)},DpCont.VideoIVys.prototype.initCheck=function(){var a=this;this.vidFrame.contents()&&(clearInterval(this.checkInitLoop),this.vidFrame[0].contentWindow.callbackStatus=function(b,c,d){a.vidUpdateCall(b,c,d)})},DpCont.VideoIVys.prototype._checkVideoCookies=function(){for(var a=document.cookie.split(";"),b="",c=0;c<a.length;c++)b=a[c],b.indexOf("videopos")!=-1&&this._removeVideoCookie(b.split("=")[0])},DpCont.VideoIVys.prototype._removeVideoCookie=function(a){document.cookie=a+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"},DpCont.VideoIVys.prototype.vidUpdateCall=function(a,b,c){"ended"!=a||this.isComplete||(this.isComplete=!0,this.completeEvent(this.completeTarget))},DpCont.VideoIVys.prototype._resizeUpdate=function(){this._sX=DpCont.contManager.windowSize.width/this.BASE_W,this._sY=DpCont.contManager.windowSize.height/this.BASE_H,this._sY<this._sX?this._sM=this._sY:this._sM=this._sX,this._vidW=this.BASE_W*this._sM,this._vidH=this.BASE_H*this._sM,this.vidFrame.css({width:this._vidW,height:this._vidH,top:Math.round(.5*(DpCont.contManager.windowSize.height-this._vidH)),left:Math.round(.5*(DpCont.contManager.windowSize.width-this._vidW))})},DpCont.VideoIVys.prototype.destroyVideo=function(){DpCont.contManager.signals.resizeCall.remove(this._resizeUpdate,this),this.isActive=!1,clearInterval(this.checkInitLoop),this.vidFrame.attr("src",""),this.vidFrame.remove()},DpCont.AppComp=function(a){this.appClass=a,this.iCont=null,this.init()},DpCont.AppComp.prototype.init=function(){DpCont.contManager.dpApp=this.appClass,this.iCont=DpCont.contManager},DpCont.ContestComp=function(){this.isSending=!1,this.isVisible=!1,this.tempScore=0,this.contestDiv=null,this.contestForm=null,this.contestFormName=null,this.contestFormEmail=null,this.contestFormSend=null,this.contestFormRules=null,this.contestFormClose=null,this.contestSent=null,this.contestSentClose=null,this.contestError=null,this.contestErrorAgain=null,this.contestErrorClose=null,this.assetNames=["ButtonAgain.png","ButtonAgainOver.png","ButtonClose.png","ButtonCloseOver.png","ButtonSend.png","ButtonSendOver.png","FormError.png","FormMain.png","FormSent.png"],this.init()},DpCont.ContestComp.prototype.init=function(){for(var a=0;a<this.assetNames.length;a++){var b=DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.contest.contestUrnPath+this.assetNames[a];$("<img />").attr("src",b)}this.contestDiv=$("<div></div>"),this.contestDiv.css({display:"none",position:"absolute","z-index":101}),this.setForm(),this.setSent(),this.setError()},DpCont.ContestComp.prototype.setForm=function(){this.contestForm=$("<div></div>"),this.contestForm.css({display:"none",position:"absolute"}),$(this.contestDiv).append(this.contestForm);var a="";DpCont.isLocalTest||"true"==String(DpCont.contManager.appConfig.player.logged)&&(a=String(DpCont.contManager.appConfig.player.nick));new DpCont.ContestBg(this.contestForm,"FormMain");this.contestFormName=new DpCont.ContestInput(0,this.contestForm,a,336,198),this.contestFormEmail=new DpCont.ContestInput(1,this.contestForm,"@",336,290),this.contestFormSend=new DpCont.ContestBtn(this.contestForm,"ButtonSend",this,this.callFormSend,308,450),this.contestFormClose=new DpCont.ContestBtn(this.contestForm,"ButtonClose",this,this.callFormClose,578,450)},DpCont.ContestComp.prototype.callFormSend=function(a){a.sendFormContent()},DpCont.ContestComp.prototype.callFormClose=function(a){a.hideForm()},DpCont.ContestComp.prototype.sendFormContent=function(){if(!this.isSending){var a=0;if(this.contestFormName.validateInput()&&a++,this.contestFormEmail.validateInput()&&a++,2==a){this.isSending=!0;var b={};b.nick=this.contestFormName.getValue(),b.email=this.contestFormEmail.getValue(),b.score=this.tempScore,b.finished=!0,AmfConnector.sendMessage(this.sendCallback,DpCont.contManager.appConfig.contest.messageUuid,b)}}},DpCont.ContestComp.prototype.sendCallback=function(a){console.log(a),"ERROR"==a.status?DpCont.contManager.contestComp.sendFormError():DpCont.contManager.contestComp.sendFormComplete()},DpCont.ContestComp.prototype.sendFormComplete=function(){this.isSending=!1,this.contestForm.css({display:"none"}),this.contestSent.css({display:"block"})},DpCont.ContestComp.prototype.sendFormError=function(){this.isSending=!1,this.contestForm.css({display:"none"}),this.contestError.css({display:"block"})},DpCont.ContestComp.prototype.setSent=function(){this.contestSent=$("<div></div>"),this.contestSent.css({display:"none",position:"absolute"}),$(this.contestDiv).append(this.contestSent);new DpCont.ContestBg(this.contestSent,"FormSent");this.contestSentClose=new DpCont.ContestBtn(this.contestSent,"ButtonClose",this,this.callSentClose,444,338)},DpCont.ContestComp.prototype.callSentClose=function(a){a.hideForm()},DpCont.ContestComp.prototype.setError=function(){this.contestError=$("<div></div>"),this.contestError.css({display:"none",position:"absolute"}),$(this.contestDiv).append(this.contestError);new DpCont.ContestBg(this.contestError,"FormError");this.contestErrorAgain=new DpCont.ContestBtn(this.contestError,"ButtonAgain",this,this.callErrorAgain,308,338),this.contestErrorClose=new DpCont.ContestBtn(this.contestError,"ButtonClose",this,this.callErrorClose,578,338)},DpCont.ContestComp.prototype.callErrorAgain=function(a){a.contestForm.css({display:"block"}),a.contestError.css({display:"none"})},DpCont.ContestComp.prototype.callErrorClose=function(a){a.hideForm()},DpCont.ContestComp.prototype.showForm=function(a){this.isVisible=!0,this.tempScore=void 0===a?0:a,$("body").append(this.contestDiv),this.contestDiv.css({display:"block"}),this.contestForm.css({display:"block"}),this.contestSent.css({display:"none"}),this.contestError.css({display:"none"}),this.contestFormSend.resetBtn(),this.contestFormClose.resetBtn(),this.contestSentClose.resetBtn(),this.contestErrorAgain.resetBtn(),this.contestErrorClose.resetBtn(),this.resizeUpdate()},DpCont.ContestComp.prototype.hideForm=function(){this.isVisible=!1,this.contestDiv.detach(),this.contestDiv.css({display:"none"}),$("body").focus(),DpCont.contManager.signals.mainCall.dispatch("ContestFormClosed"),DpCont.runType===RUN_TYPE.UNITY&&DpCont.contManager.unityApp&&DpCont.contManager.unityStarted&&DpCont.contManager.unityApp.SendMessage("Decko","ContestFormClosed")},DpCont.ContestComp.prototype.resizeUpdate=function(){this.contestDiv.css({top:Math.round(($(window).height()-612)/2),left:Math.round(($(window).width()-1088)/2)})},DpCont.ControlsComp=function(){this.controlsDiv=null,this.controlBtnMenu=null,this.controlBtnMute=null,this.controlBtnFullscreen=null,this.controlBtnClose=null,this.fullscreenEnabled=!1,this.inFullscreen=!1,this.closeOnFsSwitch=!1,this.fsCanvas=null,this.init()},DpCont.ControlsComp.prototype.init=function(){this.initFullscreen(),this.controlsDiv=$("<div id='controlsDiv'></div>"),"true"===String(DpCont.contManager.icSettings.menuEnabled)&&"cordova"!=DpCont.runType&&$("body").append(this.controlsDiv),this.controlsDiv.css({position:"absolute",top:"7px",right:"7px","z-index":1e3}),this.controlBtnMenu=this.setControlButton(1),
"true"===String(DpCont.contManager.icSettings.menuButtonEnabled)&&this.controlsDiv.append(this.controlBtnMenu),this.controlBtnMenu.click(this.btnClickMenu),this.controlBtnMute=this.setControlButton(2),"true"===String(DpCont.contManager.icSettings.soundButtonEnabled)&&this.controlsDiv.append(this.controlBtnMute),this.controlBtnMute.click(this.btnClickMute),$(".controlBtn #CBC-icoMute").css({display:"none"}),this.controlBtnFullscreen=this.setControlButton(3),this.fullscreenEnabled&&"true"===String(DpCont.contManager.icSettings.fullscreenButtonEnabled)&&this.controlsDiv.append(this.controlBtnFullscreen),this.controlBtnFullscreen.click(this.btnClickFullscreen),$(".controlBtn #CBC-icoScNormal").css({display:"none"}),this.controlBtnClose=this.setControlButton(4),DpCont.isEmbed||"true"!==String(DpCont.contManager.icSettings.closeAppButtonEnabled)||"true"!==String(DpCont.contManager.icSettings.closeButtonEnabled)||this.controlsDiv.append(this.controlBtnClose),this.controlBtnClose.click(this.btnClickClose),$(".controlBtn").css({cursor:"pointer",width:"36px",height:"36px","margin-left":"4px"}),$(".controlBtnBg").css("fill",DpCont.contManager.icSettings.buttonColorBackground),$(".controlBtnIco").css({fill:DpCont.contManager.icSettings.buttonColorForeground})},DpCont.ControlsComp.prototype.setControlButton=function(a){var b='<svg class="controlBtn">';switch(b+='<circle class="controlBtnBg" fill="#FFFFFF" cx="18" cy="18" r="15"/>',a){case 1:b+='<g class="controlBtnIco" id="CBC-icoSettings"><path fill-rule="evenodd" clip-rule="evenodd" d="M27,20v-4h-1.7c-0.2-0.9-0.5-1.8-1-2.5l1.6-1.6L23.2,9l-1.6,1.6c-0.5-0.3-1-0.5-1.5-0.7V8h-4v1.7c-0.9,0.2-1.8,0.5-2.5,1L11.8,9L9,11.8l1.6,1.6c-0.5,0.8-0.8,1.6-1,2.5H7v4h3c0.2,0.5,0.4,1,0.7,1.5L9,23.2l2.8,2.8l1.6-1.6c0.8,0.5,1.6,0.8,2.5,1V28h4v-3c0.5-0.2,1-0.4,1.5-0.7l1.6,1.6l2.8-2.8l-1.6-1.6c0.3-0.5,0.5-1,0.7-1.5H27z"/></g>';break;case 2:b+='<g class="controlBtnIco" id="CBC-icoUnMute"><path d="M24.504,12.331l-0.682,0.827c1.271,1.388,2.077,3.238,2.077,5.269c0,2.028-0.803,3.875-2.071,5.262l0.681,0.845c1.45-1.633,2.328-3.744,2.328-6.107C26.837,16.07,25.948,13.963,24.504,12.331z"/><path d="M22.696,14.021l-0.608,0.873c0.902,0.905,1.474,2.154,1.474,3.532c0,1.406-0.595,2.677-1.528,3.587l0.631,0.838c1.127-1.152,1.808-2.685,1.808-4.424C24.472,16.719,23.787,15.168,22.696,14.021z"/><path d="M20.908,15.791l-0.485,0.989c0.463,0.397,0.757,0.987,0.757,1.645c0,0.725-0.165,1.381-0.712,1.775l0.468,0.836c0.716-0.642,1.166-1.573,1.166-2.609C22.103,17.375,21.641,16.433,20.908,15.791z"/><path d="M9,16.489v3.96C9,20.953,9.761,22,10.301,22H13v-7h-2.699C9.761,15,9,15.984,9,16.489z"/><path d="M17.893,12.383L14,15.21v6.486l3.893,2.858c0.541,0,1.107-0.409,1.107-0.914V13.296C19,12.791,18.434,12.383,17.893,12.383z"/></g>',b+='<g class="controlBtnIco" id="CBC-icoMute"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M24.803,18.737l1.783,1.783c0.116,0.117,0.116,0.304,0,0.42l-0.629,0.63c-0.116,0.116-0.304,0.116-0.419,0l-1.784-1.783L21.97,21.57c-0.117,0.116-0.304,0.116-0.42,0l-0.629-0.63c-0.116-0.116-0.116-0.303,0-0.42l1.783-1.783l-1.783-1.785c-0.116-0.115-0.116-0.303,0-0.419l0.629-0.63c0.116-0.116,0.303-0.116,0.42,0l1.783,1.784l1.784-1.784c0.116-0.116,0.304-0.116,0.419,0l0.629,0.63c0.116,0.116,0.116,0.304,0,0.419L24.803,18.737z"/><path d="M9,16.489v3.96C9,20.953,9.761,22,10.301,22H13v-7h-2.699C9.761,15,9,15.984,9,16.489z"/><path d="M17.893,12.383L14,15.21v6.486l3.893,2.858c0.541,0,1.107-0.409,1.107-0.914V13.296C19,12.791,18.434,12.383,17.893,12.383z"/></g>';break;case 3:b+='<g class="controlBtnIco" id="CBC-icoScFull"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M9.931,10.27c0,2.499,0.003,6.241,0.003,6.241l2.09-2.089l2.787,2.787l2.151-2.15l-2.787-2.787l2.038-2.038C16.212,10.233,14.187,10.233,9.931,10.27z"/><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M9.931,26.389c0-2.345,0.003-6.292,0.003-6.292l2.09,2.09L14.81,19.4l2.151,2.15l-2.787,2.787l2.038,2.038C16.212,26.376,11.697,26.389,9.931,26.389z"/><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M26.018,10.27c0,3.451-0.002,6.241-0.002,6.241l-2.09-2.089l-2.787,2.787l-2.15-2.15l2.787-2.787l-2.038-2.038C19.737,10.233,24.158,10.27,26.018,10.27z"/><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M26.018,26.389c0-2.433-0.002-6.292-0.002-6.292l-2.09,2.09L21.139,19.4l-2.15,2.15l2.787,2.787l-2.038,2.038C19.737,26.376,22.503,26.389,26.018,26.389z"/></g>',b+='<g class="controlBtnIco" id="CBC-icoScNormal"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M16.451,16.792c-1.825,0-5.87-0.003-5.87-0.003l1.95-1.95l-2.6-2.6l2.006-2.006l2.6,2.6l1.901-1.901C16.439,10.931,16.461,13.868,16.451,16.792z"/><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M19.409,16.792c2.777-0.001,5.871-0.003,5.871-0.003l-1.95-1.95l2.6-2.6l-2.006-2.006l-2.6,2.6l-1.902-1.901C19.422,10.931,19.409,13.512,19.409,16.792z"/><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M16.451,19.779c-2.331,0.001-5.87,0.003-5.87,0.003l1.95,1.95l-2.6,2.6l2.006,2.006l2.6-2.6l1.901,1.901C16.439,25.64,16.454,22.747,16.451,19.779z"/><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M19.409,19.779c2.03,0.001,5.871,0.003,5.871,0.003l-1.95,1.95l2.6,2.6l-2.006,2.006l-2.6-2.6l-1.902,1.901C19.422,25.64,19.417,22.615,19.409,19.779z"/></g>';break;case 4:b+='<g class="controlBtnIco" id="CBC-icoClose"><path style="fill-rule:evenodd;clip-rule:evenodd;" d="M20.625,18.133l4.246,4.245c0.276,0.276,0.276,0.724,0,0.999l-1.499,1.499c-0.276,0.276-0.723,0.276-0.999,0l-4.246-4.245l-4.245,4.245c-0.276,0.276-0.724,0.276-0.999,0l-1.499-1.499c-0.275-0.275-0.275-0.723,0-0.999l4.246-4.245l-4.246-4.246c-0.275-0.276-0.275-0.723,0-0.999l1.499-1.499c0.276-0.276,0.723-0.276,0.999,0l4.245,4.246l4.246-4.246c0.276-0.276,0.723-0.276,0.999,0l1.499,1.499c0.276,0.276,0.276,0.723,0,0.999L20.625,18.133z"/></g>'}b+="</svg>";var c=$(b),d=c.find(".controlBtnBg");return DpCont.contManager.features.isTouch||c.hover(function(){TweenLite.killTweensOf(d),TweenLite.to(d,.2,{attr:{r:18},ease:Sine.easeInOut})},function(){TweenLite.killTweensOf(d),TweenLite.to(d,.2,{attr:{r:15},ease:Sine.easeInOut})}),c},DpCont.ControlsComp.prototype.btnClickMenu=function(){console.log("1 - try pause game, show settings dialog")},DpCont.ControlsComp.prototype.btnClickMute=function(){DpCont.contManager.sndMix.muteSwitch()?($(".controlBtn #CBC-icoMute").css({display:"block"}),$(".controlBtn #CBC-icoUnMute").css({display:"none"})):($(".controlBtn #CBC-icoMute").css({display:"none"}),$(".controlBtn #CBC-icoUnMute").css({display:"block"}))},DpCont.ControlsComp.prototype.btnClickFullscreen=function(){BigScreen.enabled?BigScreen.toggle():window.parent.BigScreen.enabled&&window.parent.BigScreen.toggle(window.frameElement)},DpCont.ControlsComp.prototype.initFullscreen=function(){var a=this,b=null;if(BigScreen&&BigScreen.enabled)b=BigScreen;else try{window.parent.BigScreen&&window.parent.BigScreen.enabled&&(b=window.parent.BigScreen)}catch(a){}null!=b&&(this.fullscreenEnabled=!0,b.onenter=function(){a.inFullscreen=!0,$(".controlBtn #CBC-icoScFull").css({display:"none"}),$(".controlBtn #CBC-icoScNormal").css({display:"block"}),DpCont.contManager.signals.mainCall.dispatch("FullscreenEnter"),a.tryFullscreenCenter(!0)},b.onexit=function(){a.inFullscreen=!1,$(".controlBtn #CBC-icoScFull").css({display:"block"}),$(".controlBtn #CBC-icoScNormal").css({display:"none"}),DpCont.contManager.signals.mainCall.dispatch("FullscreenExit"),a.tryFullscreenCenter(!1),a.closeOnFsSwitch&&(a.closeOnFsSwitch=!1,a.closeCall())})},DpCont.ControlsComp.prototype.tryFullscreenCenter=function(a){"true"==String(DpCont.contManager.icSettings.autoPixiFullscreenCentering)&&DpCont.contManager.tryCenterCanvas(a),DpCont.contManager.winSizeUpdate()},DpCont.ControlsComp.prototype.btnClickClose=function(){DpCont.contManager.controlsComp.inFullscreen?(DpCont.contManager.controlsComp.closeOnFsSwitch=!0,DpCont.contManager.controlsComp.btnClickFullscreen()):DpCont.contManager.controlsComp.closeCall()},DpCont.ControlsComp.prototype.closeCall=function(){DpCont.contManager.signals.internalCall.dispatch("CloseApp")},DpCont.FocusComp=function(){this.focusDiv=null,this.init()},DpCont.FocusComp.prototype.init=function(){this.focusDiv=$("<div></div>"),this.focusDiv.css({position:"absolute",cursor:"pointer",background:"transparent url("+DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.application.dataPathUrn+"img/focus-overlay.png) no-repeat scroll left top","z-index":100,width:1088,height:612}),this.focusDiv.click(function(){})},DpCont.FocusComp.prototype.showOver=function(a){a?($("body").append(this.focusDiv),this.resizeUpdate()):this.focusDiv.detach()},DpCont.FocusComp.prototype.resizeUpdate=function(){this.focusDiv.css({top:Math.round(($(window).height()-612)/2),left:Math.round(($(window).width()-1088)/2)})},DpCont.PosterComp=function(){this.posterDiv=null,this.posterBg=null,this.posterIco=null,this.posterDone=!1,this.fadeTimeOut=.5,this.initPosterSize=[0,0],this.tempPosterScale=[0,0],this.init()},DpCont.PosterComp.prototype.init=function(){var a=this;this.posterDiv=$("<div id='posterDiv'></div>"),$("body").append(this.posterDiv),this.posterDiv.css({position:"absolute",width:"100%",height:"100%",cursor:"pointer","z-index":990}),this.posterBg=$("<img src='"+(DpCont.isLocalTest?".":DpCont.contManager.icSettings.urnServiceUrl)+DpCont.contManager.icSettings.posterUrnPath+"'>"),this.posterBg.css({position:"absolute",opacity:0}),this.posterDiv.append(this.posterBg),this.posterBg.load(function(){a.posterResize($(window).width(),$(window).height(),!0),TweenLite.to(a.posterBg,.5,{opacity:1})});var b="";switch(b=DpCont.isLocalTest?"http://"+DpCont.localTestServer+".ceskatelevize.cz/hry/icontainerjs/":DpCont.contManager.icSettings.urnServiceUrl+DpCont.contManager.appConfig.application.dataPathUrn,DpCont.contManager.icSettings.appIcon){case"GAME":this.posterIco=$("<img class='posterIco' src='"+b+"img/ico-frame-GAME.png'>");break;case"KNOWLEDGE":this.posterIco=$("<img class='posterIco' src='"+b+"img/ico-frame-KNOWLEDGE.png'>")}this.posterDiv.append(this.posterIco),this.posterIco.css({position:"absolute",top:"50%",left:"50%","margin-top":"-64px","margin-left":"-64px",width:"128px",height:"128px",opacity:0}),this.posterIco.load(function(){TweenLite.to(a.posterIco,.5,{opacity:1})}),this.posterDiv.click(function(){a.posterDone||(a.posterDone=!0,a.posterIco.css({visibility:"hidden"}),TweenLite.to(a.posterDiv,a.fadeTimeOut,{opacity:0,onComplete:a.destroyPoster,onCompleteScope:a}),setTimeout(function(){DpCont.contManager.initApp()},1e3*a.fadeTimeOut))})},DpCont.PosterComp.prototype.destroyPoster=function(){this.posterDiv.remove()},DpCont.PosterComp.prototype.posterResize=function(a,b,c){void 0!==c&&(this.initPosterSize[0]=this.posterBg.width(),this.initPosterSize[1]=this.posterBg.height(),DpCont.contManager.signals.resizeCall.add(this.posterResize,this)),this.tempPosterScale[0]=a/this.initPosterSize[0],this.tempPosterScale[1]=b/this.initPosterSize[1],DpCont.isPiskoviste&&(this.tempPosterScale[0]=1,this.tempPosterScale[1]=1),this.tempPosterScale[0]>this.tempPosterScale[1]?(this.posterBg.width(this.initPosterSize[0]*this.tempPosterScale[0]),this.posterBg.height(this.initPosterSize[1]*this.tempPosterScale[0])):(this.posterBg.width(this.initPosterSize[0]*this.tempPosterScale[1]),this.posterBg.height(this.initPosterSize[1]*this.tempPosterScale[1])),this.posterBg.css({left:(a-this.posterBg.width())/2}),this.posterBg.css({top:(b-this.posterBg.height())/2})},DpCont.PreloaderComp=function(){this.preloaderDiv=null,this.preloaderDivIn=null,this.preloaderStartW=10,this.preloaderTotalW=186,this.init()},DpCont.PreloaderComp.prototype.init=function(){this.preloaderDiv=$("<div id='preloaderDiv'></div>"),this.preloaderDiv.css({position:"absolute",top:"50%",left:"50%","margin-left":"-100px",width:"200px","margin-top":"-10px",height:"20px","border-radius":"10px",border:"3px solid","border-color":DpCont.contManager.icSettings.buttonColorBackground,"background-color":DpCont.contManager.icSettings.buttonColorForeground,"z-index":995}),this.preloaderDivIn=$("<div id='preloaderDivIn'></div>"),this.preloaderDiv.append(this.preloaderDivIn),this.preloaderDivIn.css({position:"absolute",top:"2px",left:"2px",width:String(this.preloaderStartW)+"px",height:"16px","border-radius":"5px","background-color":DpCont.contManager.icSettings.buttonColorBackground})},DpCont.PreloaderComp.prototype.showComp=function(a,b){void 0===a&&(a=!0),void 0===b&&(b=0),$("body").append(this.preloaderDiv),this.preloaderDivIn.css({width:String(this.preloaderStartW+this.preloaderTotalW*b)+"px"}),TweenLite.killTweensOf(this.preloaderDiv),a?(this.preloaderDiv.css({opacity:0}),TweenLite.to(this.preloaderDiv,.3,{opacity:1})):this.preloaderDiv.css({opacity:1})},DpCont.PreloaderComp.prototype.updateProgress=function(a){a>1&&(a=1),DpCont.contManager.signals.mainCall.dispatch("PreloaderUpdate",a),TweenLite.killTweensOf(this.preloaderDivIn),TweenLite.to(this.preloaderDivIn,.1,{width:this.preloaderStartW+this.preloaderTotalW*a})},DpCont.PreloaderComp.prototype.hideComp=function(a){void 0===a&&(a=!0),TweenLite.killTweensOf(this.preloaderDiv),a?TweenLite.to(this.preloaderDiv,.2,{opacity:0,onCompleteScope:this,onComplete:this.hideCompEnd}):this.hideCompEnd()},DpCont.PreloaderComp.prototype.hideCompEnd=function(){this.preloaderDiv.detach()},DpCont.ScreensComp=function(){this.init()},DpCont.ScreensComp.SCRN_BROWSER_UPGRADE="BrowserUpgrade",DpCont.ScreensComp.SCRN_CLOSE_CONFIRM="CloseConfirm",DpCont.ScreensComp.SCRN_MENU="Menu",DpCont.ScreensComp.SCRN_CUSTOM="Custom",DpCont.ScreensComp.prototype.init=function(){},DpCont.ScreensComp.prototype.showScreen=function(a,b){switch(a){case DpCont.ScreensComp.SCRN_BROWSER_UPGRADE:new DpCont.ScreenBrowserUpgrade;break;case DpCont.ScreensComp.SCRN_CLOSE_CONFIRM:new DpCont.ScreenCloseConfirm;break;case DpCont.ScreensComp.SCRN_MENU:new DpCont.ScreenMenu;break;case DpCont.ScreensComp.SCRN_CUSTOM:new DpCont.ScreenCustom;break;default:console.log("Undefined Screen ID - "+a)}},DpCont.VideoComp=function(){this.videoID="",this.endCall=null,this.endTarget=null,this.settings={skipBtn:!0,showControls:!1},this._hashUpdater=null,this.mainCont=null,this.mainVideo=null,this.btnSkip=null,this.init()},DpCont.VideoComp.prototype.init=function(){this.mainCont=$("<div></div>"),this.mainCont.css({position:"absolute",top:0,"z-index":11,width:"100%",height:"100%"}),DpCont.isLocalTest||this._setHashUpdater()},DpCont.VideoComp.prototype.playVideo=function(a,b,c,d){this.videoID=a,this.endCall=c,this.endTarget=b,DpCont.isLocalTest?(console.log("%c Video iVysílání: Na localhost nedostupné -> přeskočeno + zavolán completeCall","background: #b5be34; color: #000000"),this.endCall&&this.endCall.call(this.endTarget)):(this.parseSettings(d),$("body").append(this.mainCont),this.mainVideo=new DpCont.VideoIVys(this.mainCont,this.videoID,this.settings,this.completeCall,this),this.trySkipBtn())},DpCont.VideoComp.prototype.parseSettings=function(a){void 0!==a&&("undefined"!==a.skipBtn&&(this.settings.skipBtn=a.skipBtn),"undefined"!==a.showControls&&(this.settings.showControls=a.showControls),"undefined"!==a.type&&"iBonus"==a.type&&(console.log("Deprecated: use 'showControls' settings instead of 'type'"),this.settings.showControls=!0)),0==this.videoID.indexOf("BO-")&&this.videoID.replace("BO-","")},DpCont.VideoComp.prototype.completeCall=function(a){a.destroyVideoComp()},DpCont.VideoComp.prototype.trySkipBtn=function(){if(this.settings.skipBtn&&null==this.btnSkip){var a=this;this.btnSkip=$("<div>Přeskočit</div>"),this.btnSkip.css({"z-index":"101",position:"absolute",cursor:"pointer",top:10,left:10,padding:12,"border-radius":"5px","font-size":"14px","font-family":"Verdana, Tahoma, Geneva, Arial, Sans-serif",color:DpCont.contManager.icSettings.buttonColorForeground,"background-color":DpCont.contManager.icSettings.buttonColorBackground}),this.mainCont.append(this.btnSkip),this.btnSkip.on({click:function(){a.skipClick(a)}})}},DpCont.VideoComp.prototype.skipClick=function(a){a.destroyVideoComp()};DpCont.VideoComp.prototype.destroyVideoComp=function(){this.btnSkip&&(this.btnSkip.remove(),this.btnSkip=null),this.endCall&&this.endCall.call(this.endTarget),this.mainVideo.destroyVideo(),this.mainCont.detach()},DpCont.VideoComp.prototype._setHashUpdater=function(){if(!this._hashUpdater){var a=this;this._hashUpdater=$('<iframe src="/app-player" width="0" height="0" style="display: none !important"></iframe>'),$("body").append(this._hashUpdater),this._hashUpdater.on("load",function(){DpCont.contManager.icSettings.iframePlayerHash=a._hashUpdater[0].contentWindow.vApp}),setInterval(function(){a._hashUpdater.attr("src",a._hashUpdater.attr("src"))},18e5)}};
