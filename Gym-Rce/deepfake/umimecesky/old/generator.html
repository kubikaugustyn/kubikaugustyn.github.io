<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Generátor</title>
</head>
<body>
<h1>Speciální záložka</h1>
<p>Přetáhněte (nebo si uložte jiným způsobem) tento odkaz:</p>
<a href='javascript:(function a(){if(/(www.)?umime(cesky)?.cz/.test(location.host)){if(window.mode!=="ps")return;initSkill();initBar();var shield=confirm("Checete štít 3?")?"3":"4";showFinalBoard("medalBased","ps","mastered".concat(shield),"0");updateBar(shield==="3"?.955:1)}})()'>Umimecesky.cz</a>
<br>
<p>Pokud vás zajímá, co tento odkaz dělá, je to toto:</p>
<pre>
(function a() {
    if (/(www.)?umime(cesky)?.cz/.test(location.host)) {
        if (window.mode !== "ps") return;
        initSkill();
        initBar();
        var shield = confirm("Checete štít 3?") ? "3" : "4";
        showFinalBoard("medalBased", "ps", "mastered".concat(shield), "0");
        updateBar(shield === "3" ? .955 : 1)
    }
})()
// Na 1 řádku:
(function a(){if(/(www.)?umime(cesky)?.cz/.test(location.host)){if(window.mode!=="ps")return;initSkill();initBar();var shield=confirm("Checete štít 3?")?"3":"4";showFinalBoard("medalBased","ps","mastered".concat(shield),"0");updateBar(shield==="3"?.955:1)}})()
</pre>
<h1>Generátor umimecesky.cz</h1>
<form id="form">
    <label>
        Zadejte URL:
        <input type="url" placeholder="https://www.umimecesky.cz/..." size="100" name="url">
        <!--               value="https://www.umimecesky.cz/doplnovacka-koncovky-pridavnych-jmen-1-uroven">-->
    </label>
    <br>
    <label>
        Zadejte název:
        <input type="text" placeholder="Koncovky přídavných jmen (lehké)" size="100" name="name">
        <!--               value="Koncovky přídavných jmen (jarní/mladý) (lehké)">-->
    </label>
    <br>
    <label>
        Vyberte štít:
        <select size="1" name="shield">
            <option value="3">Štít 3</option>
            <option value="4" selected>Štít 4</option>
        </select>
    </label>
    <br>
    <input type="submit" value="OK">
</form>
<script>
    var form = document.getElementById("form")

    function submit(e) {
        e.preventDefault()

        var params = new URLSearchParams()
        params.set("url", form.url.value)
        params.set("name", form.name.value)
        params.set("shield", form.shield.value)
        params.set("_ij_reload", "RELOAD_ON_SAVE")
        document.location = `${location.pathname.replaceAll(/generator(.html)?/g, "")}?${params}`
    }

    form.addEventListener("submit", submit)
</script>
</body>
</html>
